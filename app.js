(()=>{"use strict";var __webpack_exports__={};window.app=function(window,document,random,floor,round,parseInt,parseFloat){var app,node,initialId=floor(1000*random()),element={},elementPrefix="__App_",elementProps={events:1,methods:1,onMount:1,onDismount:1},nodePrototype={className:1,id:1,title:1,textContent:1,value:1,selected:1,checked:1,hasFocus:1,onclick:1,onmousemove:1,onmouseover:1,onmouseout:1,onkeyup:1,onkeydown:1,onchange:1,onsubmit:1,action:1,ariaLabel:1,ariaHidden:1},nsTags={svg:1,g:1,path:1,text:1,circle:1,polyline:1,polygon:1,linearGradient:1,defs:1,stop:1},isArray=Array.isArray,rtrim=/[^\x20\t\r\n\f]+/g,eventsPrefix=elementPrefix+"events",idPrefix=elementPrefix+"id",mountPrefix=elementPrefix+"onMount",unmountPrefix=elementPrefix+"onDismount";function guid(){initialId+=1;return initialId}function scapeRegExp(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function encodeUrlParams(params){var data="",prop;for(prop in params)data+=prop+"="+encodeURIComponent(params[prop])+"&";return data.substring(0,data.length-1)}function isIterable(elem){return elem&&"object"==typeof elem&&"length"in elem}function parseNumber(value,props,parseFn){props=props||{};props.value=parseFn(value);if(isNaN(props.value)&&"number"==typeof props.default)return props.default;props.value=props.value<props.min?props.min:props.value;props.value=props.value>props.max?props.max:props.value;return props.value}function strip(value){return value.match(rtrim)||[]}function classesToArray(value){if("string"==typeof value)return value.match(rtrim)||[];return[]}function objEach(obj,callback){var i;for(i in obj)callback(obj[i],i)}element.listenEvents=function(elem){var events=elem[eventsPrefix],elementId=elem[idPrefix],callback,eventName;for(eventName in events){callback=events[eventName];if(void 0===app.events[eventName])app.events[eventName]={};app.events[eventName]["_"+elementId]={componentId:elementId,callback}}};element.removeEvents=function(elem){var events=elem[eventsPrefix],elemId=elem[idPrefix],eventName;for(eventName in events)if(app.events[eventName]&&app.events[eventName]["_"+elemId])delete app.events[eventName]["_"+elemId]};element.mountAll=function(elements){function searchEvents(childs){var i=0,item;while(item=childs[i++]){if(item[eventsPrefix])element.listenEvents(item);searchEvents(item.children)}}function search(childs){var i=0,item;while(item=childs[i++]){if(item[mountPrefix])item[mountPrefix]();search(item.children)}}searchEvents(elements||[]);search(elements||[])};element.dismountAll=function(elements){function searchEvents(childs){var i=0,item;while(item=childs[i++]){if(item[eventsPrefix])element.removeEvents(item);searchEvents(item.children)}}function search(childs){var i=0,item;while(item=childs[i++]){if(item[unmountPrefix])item[unmountPrefix]();search(item.children)}}searchEvents(elements||[]);search(elements||[])};element.create=function(args){var elem,index,item,key,node,len,ind,name=args[0],props=args[1]||{},nameType=typeof name,argsLen=args.length;if("function"==nameType){item=new name(props)||{};elem=item.render?item.render():{};elem=elem[0];if(elem&&elem.nodeType){for(key in item)if(key in elementProps)elem[elementPrefix+key]=item[key];this[0]=elem;this.length=1}else this.length=0;return this}if("string"==nameType){elem=name in nsTags?document.createElementNS("http://www.w3.org/2000/svg",name):document.createElement(name);elem[idPrefix]=guid()}else if(name)elem=name[0];if(elem&&elem.nodeType){for(key in props)if(key in nodePrototype)elem[key]=props[key];else elem.setAttribute(key,props[key]);for(index=2;index<argsLen;index++)if(item=args[index])if("string"==typeof item)elem.appendChild(document.createTextNode(item));else if(isArray(item)){for(ind=0,len=item.length;ind<len;ind++)if(node=item[ind]){node=(node.nodeType?node:node[0])||{};if(node.nodeType)elem.appendChild(node)}}else{node=(item.nodeType?item:item[0])||{};if(node.nodeType)elem.appendChild(node)}this[0]=elem;this.length=1}else this.length=0;return this};element.init=function(selector){if(!selector){this.length=0;return this}var elem,match,i=0;if("string"==typeof selector)try{match=document.querySelectorAll(selector)}catch(e){match=[]}else if(isIterable(selector)&&selector!==window)match=selector;else match=[selector];while(elem=match[i]){this[i]=elem;i++}this.length=match.length;return this};element._init=function(elem){if(elem){this[0]=elem;this.length=1}else this.length=0;return this};element.initArr=function(arr){var elem,i=0;while(elem=arr[i]){this[i]=elem;i++}this.length=i;return this};element.proto={each:function(callback){var item,i=0;while(item=this[i++])callback(new element._init(item),i,this);return this},forEach:function(callback){var item,i=0;while(item=this[i++])callback(new element._init(item),i,this);return this},remove:function(){var elem,i=0;while(elem=this[i++])if(elem.parentNode){element.dismountAll([elem]);elem.parentNode.removeChild(elem)}return this},addClass:function(value){var elem,classes,clazz,update,j,classList,classes=classesToArray(value),i=0;if(classes.length)while(elem=this[i++])if(1===elem.nodeType){classList=strip(elem.getAttribute("class")||"");update=false;j=0;while(clazz=classes[j++])if(-1==classList.indexOf(clazz)){classList.push(clazz);update=true}if(update)elem.setAttribute("class",classList.join(" "))}return this},removeClass:function(value){var elem,classes,clazz,update,j,classList,index,classes=classesToArray(value),i=0;if(classes.length)while(elem=this[i++])if(1===elem.nodeType){classList=strip(elem.getAttribute("class")||"");update=false;j=0;while(clazz=classes[j++]){index=classList.indexOf(clazz);if(-1!=index){classList.splice(index,1);update=true}}if(update)elem.setAttribute("class",classList.join(" "))}return this},hasClass:function(value){var elem=this[0];if(elem&&elem.getAttribute)return-1!=strip(elem.getAttribute("class")||"").indexOf(value);return false},toggleClass:function(value,state){var elem=this[0],i=0,item;if(void 0!=state)state?this.addClass(value):this.removeClass(value);while(elem=this[i++])if(elem&&elem.getAttribute){state=-1==strip(elem.getAttribute("class")||"").indexOf(value);item=new element._init(elem);state?item.addClass(value):item.removeClass(value)}return this},attr:function(attr,value){var elem,undef="undefined"==typeof value,i=0;while(elem=this[i++])if(undef)return elem.getAttribute?elem.getAttribute(attr):null;else elem.setAttribute&&elem.setAttribute(attr,value);return undef?null:this},removeAttr:function(value){var elem,attr,attrNames,j,i=0;attrNames=classesToArray(value);while(elem=this[i++])if(elem.removeAttribute){j=0;while(attr=attrNames[j++])elem.removeAttribute(attr)}return this},eq:function(i){return new element._init(this[i])},style:function(value){var elem,key,type=typeof value,i=0;if("string"==type)if(elem=this[0])return elem.style?elem.style[value]:null;if(value&&"object"==type)while(elem=this[i++])if(elem.style)for(key in value)elem.style[key]=value[key];return this},childs:function(){return new element.initArr((this[0]||{}).children||[])},child:function(index){var elem=this[0],children,child;children=elem?elem.children:null;if(children)child=children[index<0?children.length+index:index];return new element._init(child)},find:function(selector){var find,elem=this[0];if(elem&&elem.querySelectorAll)find=elem.querySelectorAll(selector);return new element.initArr(find)},closest:function(className){var find,elem=this[0],i=0;if("string"==typeof className){className=className.replace(".","");if(elem&&1===elem.nodeType){function search(parent){if(1===parent.nodeType)if(hasClass(parent,className))find=parent;else parent.parentNode&&search(parent.parentNode)}search(elem.parentNode)}}return new element.init(find)},prepend:function(insert){var elem=this[0],i,len,node;if(insert){insert=isArray(insert)?insert:[insert];insert.reverse&&insert.reverse();if(elem)for(i=0,len=insert.length;i<len;i++)if(node=insert[i]){node=node.length?node[0]:node;if(node.nodeType){if(elem.firstChild)elem.insertBefore(node,elem.firstChild);else elem.appendChild(node);element.mountAll([node])}}}return this},append:function(insert){var elem=this[0],i,len,node;if(insert){insert=isArray(insert)?insert:[insert];if(elem)for(i=0,len=insert.length;i<len;i++)if(node=insert[i]){node=node.length?node[0]:node;if(node.nodeType){elem.appendChild(node);element.mountAll([node])}}}return this},render:function(insert){var elem=this[0],i,len,node;if(insert){insert=isArray(insert)?insert:[insert];if(elem){element.dismountAll(elem.children);while(elem.firstChild)elem.removeChild(elem.firstChild);for(i=0,len=insert.length;i<len;i++)if(node=insert[i]){node=node.length?node[0]:node;if(elem.appendChild){elem.appendChild(node);element.mountAll([node])}}}}return this},empty:function(){var elem=this[0];if(elem){element.dismountAll(elem.children);while(elem.firstChild)elem.removeChild(elem.firstChild)}return this},replaceWith:function(insert){var elem=this[0];if(insert){insert=insert.nodeType?insert:insert[0]||{};if(elem&&elem.parentNode){element.dismountAll([elem]);elem.parentNode.replaceChild(insert,elem);element.mountAll([insert])}}return this},method:function(name,props){var elem,i=0;while(elem=this[i++])elem[elementPrefix+"methods"][name](props);return this},offsetWidth:function(){var elem=this[0];if(elem)return elem.offsetWidth;return null},offsetHeight:function(){var elem=this[0];if(elem)return elem.offsetHeight;return null},width:function(){var elem=this[0];if(elem)return elem.clientWidth;return null},height:function(){var elem=this[0];if(elem)return elem.clientHeight;return null}};objEach({on:"addEventListener",focus:"focus"},(function(prop,key){element.proto[key]=function(){var elem,i=0;while(elem=this[i++])if(elem[prop])elem[prop].apply(null,arguments);return this}}));objEach({parent:"parentNode",first:"firstElementChild",last:"lastElementChild"},(function(prop,key){element.proto[key]=function(){var elem=this[0],item;if(elem)item=elem[prop];return new element._init(item)}}));"show hide toggle".split(" ").forEach((function(key){element.proto[key]=function(state){var elem=this,i=0,valid="undefined"!=typeof state,display="";if("hide"==key||valid&&!state)display="none";while(elem=this[i++])if(elem.style){if("toggle"==key&&!valid)display="none"==elem.style.display?"":"none";elem.style.display=display}return this}}));"checked selected hasFocus textContent value scrollTop scrollLeft scrollWidth scrollHeight".split(" ").forEach((function(key){element.proto[key]=function(value){var elem=this,undef="undefined"==typeof value,i=0;while(elem=this[i++]){if(undef)return elem[key];elem[key]=value}return this}}));element.init.prototype=element._init.prototype=element.initArr.prototype=element.create.prototype=element.proto;app={fetch:function(config){var xhr=new XMLHttpRequest,isFormData=config.post&&"object"==typeof config.post&&config.post.constructor&&"FormData"==config.post.constructor.name,postData=config.post?!isFormData?encodeUrlParams(config.post):config.post:null,url=config.url||"",type=config.post?"POST":"GET",dataType=config.dataType,send=void 0===config.send?true:config.send,response;function success(response){if(config.success)config.success(response,xhr);if(config.done)config.done(xhr.status,xhr)}function fail(){console.log("Request Fail: "+url,xhr.status);if(config.fail)config.fail(xhr.status,xhr);if(config.done)config.done(xhr.status,xhr)}if(config.get)url+=(url.indexOf("?")>-1?"&":"?")+encodeUrlParams(config.get);xhr.open(void 0===config.type?type:config.type,url,true);if("function"==typeof config.xhr)config.xhr(xhr);if("number"==typeof config.timeout)xhr.timeout=config.timeout;xhr.onload=function(){if(200==xhr.status){response=xhr.responseText;if("json"==dataType||(xhr.getResponseHeader("Content-Type")||"").search("application/json")>-1)try{response=JSON.parse(response)}catch(e){return fail()}success(response)}else fail()};xhr.ontimeout=fail;xhr.onerror=fail;xhr.sendRequest=function(){xhr.send(postData)};if(!isFormData&&"POST"==type)xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");if(send)xhr.sendRequest();return xhr},createElement:function(){return new element.create(arguments)},$:function(value){return new element.init(value)},event:function(eventName,props){var events=app.events[eventName]||{},key,item;for(key in events){item=events[key];item&&item.callback&&item.callback(props)}},events:{},elementPrefix,nodePrototype,guid,_guid:function(){function s4(){return floor(0x10000*(1+random())).toString(16).substring(1)}return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()},each:function(arr,callback,key,len){if(isArray(arr)){len=arr.length;for(key=0;key<len;key++)callback(arr[key],key);return}for(key in arr)callback(arr[key],key)},trim:function(value,trim){trim=trim?scapeRegExp(trim):trim;var exp=trim?new RegExp("^"+trim+"|"+trim+"+$","gm"):/^\s+|\s+$/gm;return value.replace(exp,"")},cookie:function(name,value){if("string"!=typeof name)return null;if(void 0===value){var cname=name+"=",ca=document.cookie.split(";");for(let i=0;i<ca.length;i++){let c=ca[i];while(" "==c.charAt(0))c=c.substring(1);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return null}else{var date=new Date,days=365,expires;date.setTime(date.getTime()+24*days*60*60*1000);expires="expires="+date.toUTCString();document.cookie=name+"="+value+";"+expires+";path=/"}},random:function(a){return("000000000000000000"+random().toString().slice(2)).slice(-12)},parseInt:function(value,props){return parseNumber(value,props,parseInt)},parseFloat:function(value,props){return parseNumber(value,props,parseFloat)},fixNumber:function(number,len,index){number=number.toString();index=number.indexOf(".");if(-1==index){index=number.length;number+="."}return(number+"00000").slice(0,index+(len>0?len+1:0))},transferred:function(value){value/=1000;if(0==value)return"0KB";return app.fixNumber(value,value<10?1:0)+"KB"},loaded:function(value,len){value/=1000000;len=0;if(value<10)len=3;else if(value<1000)len=2;else if(value<10000)len=1;return app.fixNumber(value,len)+"MB"},consoleTime:function(time){if(time<1000)return time+"ms";return app.fixNumber(time/1000,time<10000?2:1)},consoleSpeed:function(speed,speedMax,speedStr){speedMax=parseInt(speedMax).toString().length;speedStr=parseInt(speed).toString().length;return app.fixNumber(speed,2+(speedMax-speedStr))},distance:function(sin,cos,acos){var rad=Math.PI/180,theta,dist;function distance(latitudeFrom,longitudeFrom,latitudeTo,longitudeTo){if(latitudeFrom==latitudeTo&&longitudeFrom==longitudeTo)return 0;theta=longitudeFrom-longitudeTo;dist=sin(latitudeFrom*rad)*sin(latitudeTo*rad)+cos(latitudeFrom*rad)*cos(latitudeTo*rad)*cos(theta*rad);return round(acos(dist)/rad*60*1.853*100)/100}return distance}(Math.sin,Math.cos,Math.acos),scrollWidth:function(){var elem=document.createElement("div"),width;elem.style.visibility="hidden";elem.style.overflow="scroll";elem.style.msOverflowStyle="scrollbar";document.body.appendChild(elem);width=elem.offsetWidth-elem.clientWidth;elem.parentNode.removeChild(elem);return width}()};app.isMobile=function(w,n){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(n.userAgent||n.vendor||w.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((n.userAgent||n.vendor||w.opera).substr(0,4))}(window,window.navigator);function fill(elem,def){elem=elem.split(".");if(1==elem.length){if(!window[elem[0]])window[elem[0]]=def}else if(!window[elem[0]][elem[1]])window[elem[0]][elem[1]]=def}fill("performance",{});fill("performance.getEntriesByName",(function(){return[]}));fill("performance.clearResourceTimings",(function(){}));window.addEventListener("resize",(function(){app.event("appResize")}));window.$=app.$;return app}(window,document,Math.random,Math.floor,Math.round,parseInt,parseFloat);app.svgIcon=function(window,document,app,createElement){var icons={close:function(){return createElement("svg",{viewBox:"0 0 213 213",class:"svgIcon closeIcon"},createElement("path",{d:"M131.804 106.491l75.936-75.936c6.99-6.99 6.99-18.323 0-25.312-6.99-6.99-18.322-6.99-25.312 0l-75.937 75.937L30.554 5.242c-6.99-6.99-18.322-6.99-25.312 0-6.989 6.99-6.989 18.323 0 25.312l75.937 75.936L5.242 182.427c-6.989 6.99-6.989 18.323 0 25.312 6.99 6.99 18.322 6.99 25.312 0l75.937-75.937 75.937 75.937c6.989 6.99 18.322 6.99 25.312 0 6.99-6.99 6.99-18.322 0-25.312L131.804 106.491z"}))},alert:function(){return createElement("svg",{viewBox:"0 0 512 512",class:"svgIcon alertIcon"},createElement("path",{d:"M256,0C115.2,0,0,115.2,0,256s115.2,256,256,256s256-115.2,256-256S396.8,0,256,0z M256,51.2 c28.16,0,48.64,23.04,46.08,51.2L281.6,307.2h-51.2l-20.48-204.8C207.36,74.24,227.84,51.2,256,51.2z M256,460.8 c-28.16,0-51.2-23.04-51.2-51.2c0-28.16,23.04-51.2,51.2-51.2s51.2,23.04,51.2,51.2C307.2,437.76,284.16,460.8,256,460.8z"}))},testLogo:function(){return createElement("svg",{viewBox:"0 0 512 512",class:"svgIcon testLogoIcon"},createElement("path",{d:"M357.423 209.039c-9.093-9.093-23.832-9.093-32.925 0l-66.389 66.386c-3.286-.779-6.708-1.203-10.23-1.203-24.435 0-44.316 19.897-44.316 44.358s19.88 44.357 44.316 44.357c24.46 0 44.357-19.9 44.357-44.357 0-3.523-.424-6.945-1.203-10.231l66.389-66.386c9.093-9.092 9.093-23.833.001-32.924zm79.66-88.94c-99.837-99.837-262.318-99.837-362.206.003-86.213 86.257-99.573 222.315-31.769 323.513 7.156 10.683 21.618 13.535 32.3 6.38s13.538-21.617 6.38-32.3c-19.051-28.437-30.268-60.238-33.925-92.598H69.75c12.857 0 23.281-10.422 23.281-23.281s-10.424-23.281-23.281-23.281H47.789C52.008 239.863 66.9 202.32 92 170.742l15.842 15.842c4.546 4.547 10.504 6.821 16.461 6.821a23.2 23.2 0 0 0 16.461-6.821c9.092-9.09 9.092-23.832 0-32.924l-15.909-15.91c32.054-25.745 69.977-40.674 108.842-44.8v21.986c0 12.859 10.424 23.281 23.281 23.281s23.281-10.422 23.281-23.281V93.163c38.183 4.411 75.369 19.28 106.875 44.596l-15.902 15.902c-9.09 9.093-9.09 23.832.003 32.927a23.21 23.21 0 0 0 16.459 6.818c5.96 0 11.917-2.274 16.463-6.821l15.826-15.826c25.109 31.572 40.004 69.111 44.224 107.779h-21.961c-12.856 0-23.281 10.425-23.281 23.281S429.39 325.1 442.246 325.1h21.889c-3.658 32.36-14.878 64.159-33.935 92.595-7.16 10.68-4.304 25.142 6.374 32.3 3.981 2.668 8.485 3.947 12.941 3.947 7.503 0 14.869-3.622 19.362-10.321 67.832-101.21 54.461-237.268-31.794-323.522z"}))},user:function(){return createElement("svg",{viewBox:"0 0 512 512",class:"svgIcon userIcon"},createElement("path",{d:"M256 0c88.366 0 160 71.634 160 160s-71.634 160-160 160S96 248.366 96 160 167.634 0 256 0zm183.283 333.821l-71.313-17.828c-74.923 53.89-165.738 41.864-223.94 0l-71.313 17.828C29.981 344.505 0 382.903 0 426.955V464c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48v-37.045c0-44.052-29.981-82.45-72.717-93.134z"}))},ping:function(){return createElement("svg",{viewBox:"0 0 16 16",class:"svgIcon"},createElement("path",{d:"M4.16 6.672a.69.69 0 00.513.246h6.667c.368 0 .667-.282.667-.63 0-.347-.3-.628-.667-.628H5.953l2.04-1.924a.61.61 0 00.215-.625.653.653 0 00-.492-.464.692.692 0 00-.663.203L4.027 5.703a.602.602 0 000 .887c.04.033.085.06.133.082zM8 0C3.582 0 0 3.38 0 7.547s3.582 7.546 8 7.546 8-3.38 8-7.546C16 3.38 12.418 0 8 0zM1.333 7.547c0-3.474 2.985-6.29 6.667-6.29s6.667 2.816 6.667 6.29c0 3.468-2.977 6.28-6.654 6.288-3.695 0-6.68-2.815-6.68-6.288zm10.494.874a.686.686 0 00-.514-.245H4.647c-.37 0-.667.282-.667.63 0 .347.298.628.667.628h5.393L8 11.358a.609.609 0 00-.215.624c.06.23.25.41.493.465a.69.69 0 00.662-.203l3.027-2.855a.606.606 0 000-.888.626.626 0 00-.14-.08z"}))},jitter:function(){return createElement("svg",{viewBox:"0 0 24 24",class:"svgIcon"},createElement("path",{d:"M12 0A12.04 12.04 0 0 0 0 12a12.04 12.04 0 0 0 12 12 12.04 12.04 0 0 0 12-12A12.04 12.04 0 0 0 12 0zm0 22C6.4 22 2 17.5 2 12S6.4 2 12 2s10 4.4 10 10-4.5 10-10 10zm2.7-7.8c-1.6 0-2.7-.9-3.4-1.8-1.4-2.1-4.3-2.1-4.5.6 0 .4-.3.8-.8.8-.3 0-.8-.3-.8-.8 0-2.9 2.2-3.6 3.8-3.6 1.8 0 2.7.9 3.4 1.9 1.1 1.5 4.2 2.6 4.7-.9 0-.4.3-.8.8-.8.4 0 .8.3.8.8.1 3.5-2.9 3.8-4 3.8z"}))},downlink:function(){return createElement("svg",{viewBox:"0 0 16 16",class:"svgIcon downlinkIcon"},createElement("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zM1.333 8a6.667 6.667 0 1113.334 0A6.667 6.667 0 011.333 8zm10-.667a.675.675 0 00-.473.194l-2.2 2.2v-5.06a.666.666 0 10-1.333 0v5.06L5.16 7.533a.668.668 0 00-1.12.3.67.67 0 00.173.647l3.334 3.333a.663.663 0 00.946.001l3.334-3.333a.667.667 0 00-.481-1.148h-.014z"}))},uplink:function(){return createElement("svg",{viewBox:"0 0 16 16",class:"svgIcon uplinkIcon"},createElement("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zm0 14.667a6.667 6.667 0 11.013 0H8zm.493-10.48a.663.663 0 00-.946-.001L4.213 7.52a.672.672 0 000 .947c.262.26.686.26.947 0l2.2-2.2v5.066a.666.666 0 101.333 0v-5.06l2.2 2.2a.668.668 0 00.935-.946l-3.335-3.34z"}))},resultGraph:function(type){return createElement("svg",{viewBox:"0 0 185 45",class:"svgIcon graph",preserveAspectRatio:"none"},createElement("polyline",{points:"",class:"line"}),createElement("polygon",{points:"",class:"chart"}))},internet:function(){return createElement("svg",{viewBox:"0 0 24 24",class:"svgIcon"},createElement("g",{transform:"scale(1.09)","transform-origin":"center"},createElement("path",{d:"M12 1C5.94 1 1 5.94 1 12s4.94 11 11 11 11-4.94 11-11S18.06 1 12 1zm9.444 10.247H16.99c-.11-3.487-.86-6.44-2.042-8.26 3.542 1.18 6.177 4.398 6.496 8.26zM12 21.444c-1.557 0-3.273-3.646-3.432-8.69h6.924c-.22 5.043-1.935 8.69-3.492 8.69zM8.568 11.247c.16-5.043 1.875-8.69 3.432-8.69s3.273 3.647 3.432 8.69H8.568zm.48-8.262C7.863 4.812 7.115 7.76 7.005 11.197H2.55c.325-3.812 2.96-7.03 6.497-8.212zm-6.492 9.768H7.01c.11 3.487.86 6.385 2.04 8.212-3.54-1.133-6.175-4.35-6.494-8.212zm12.397 8.26c1.183-1.825 1.93-4.773 2.04-8.21h4.455c-.323 3.812-2.958 7.03-6.495 8.21z"})))},menu:function(){return createElement("svg",{viewBox:"0 0 512 512",class:"svgIcon"},createElement("path",{d:"M492 236H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0-160H20C8.954 76 0 84.954 0 96s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0 320H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20z"}))},settings:function(){return createElement("svg",{viewBox:"0 0 512 512",class:"svgIcon"},createElement("path",{d:"M500.6,212.6l-59.9-14.7c-3.3-10.5-7.5-20.7-12.6-30.6l30.6-51c3.6-6,2.7-13.5-2.1-18.3L414,55.4 c-4.8-4.8-12.3-5.7-18.3-2.1l-51,30.6c-9.9-5.1-20.1-9.3-30.6-12.6l-14.4-59.9C297.9,4.8,291.9,0,285,0h-60 c-6.9,0-12.9,4.8-14.7,11.4l-14.4,59.9c-10.5,3.3-20.7,7.5-30.6,12.6l-51-30.6c-6-3.6-13.5-2.7-18.3,2.1L53.4,98 c-4.8,4.8-5.7,12.3-2.1,18.3l30.6,51c-5.1,9.9-9.3,20.1-12.6,30.6l-57.9,14.7C4.8,214.1,0,220.1,0,227v60 c0,6.9,4.8,12.9,11.4,14.4l57.9,14.7c3.3,10.5,7.5,20.7,12.6,30.6l-30.6,51c-3.6,6-2.7,13.5,2.1,18.3L96,458.6 c4.8,4.8,12.3,5.7,18.3,2.1l51-30.6c9.9,5.1,20.1,9.3,30.6,12.6l14.4,57.9c1.8,6.6,7.8,11.4,14.7,11.4h60 c6.9,0,12.9-4.8,14.7-11.4l14.4-57.9c10.5-3.3,20.7-7.5,30.6-12.6l51,30.6c6,3.6,13.5,2.7,18.3-2.1l42.6-42.6 c4.8-4.8,5.7-12.3,2.1-18.3l-30.6-51c5.1-9.9,9.3-20.1,12.6-30.6l59.9-14.7c6.6-1.5,11.4-7.5,11.4-14.4v-60 C512,220.1,507.2,214.1,500.6,212.6z M255,332c-41.4,0-75-33.6-75-75c0-41.4,33.6-75,75-75c41.4,0,75,33.6,75,75 C330,298.4,296.4,332,255,332z"}))},arrowDown:function(){return createElement("svg",{viewBox:"0 0 293 293",class:"svgIcon"},createElement("path",{d:"M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424 C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428 s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z"}))},checked:function(){return createElement("svg",{viewBox:"0 0 405 405",class:"svgIcon"},createElement("path",{d:"M393.401,124.425L179.603,338.208c-15.832,15.835-41.514,15.835-57.361,0L11.878,227.836 c-15.838-15.835-15.838-41.52,0-57.358c15.841-15.841,41.521-15.841,57.355-0.006l81.698,81.699L336.037,67.064 c15.841-15.841,41.523-15.829,57.358,0C409.23,82.902,409.23,108.578,393.401,124.425z"}))},info:function(){return createElement("svg",{viewBox:"0 0 30 30",class:"svgIcon"},createElement("g",{transform:"scale(1.25)","transform-origin":"center"},createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z M16,21h-2v-7h2V21z M15,11.5 c-0.828,0-1.5-0.672-1.5-1.5s0.672-1.5,1.5-1.5s1.5,0.672,1.5,1.5S15.828,11.5,15,11.5z"})))},close2:function(){return createElement("svg",{viewBox:"0 0 503 503",class:"svgIcon"},createElement("path",{d:"M491.613,75.643l-64.235-64.235c-15.202-15.202-39.854-15.202-55.056,0L251.507,132.222L130.686,11.407 c-15.202-15.202-39.853-15.202-55.055,0L11.401,75.643c-15.202,15.202-15.202,39.854,0,55.056l120.821,120.815L11.401,372.328 c-15.202,15.202-15.202,39.854,0,55.056l64.235,64.229c15.202,15.202,39.854,15.202,55.056,0l120.815-120.814l120.822,120.814 c15.202,15.202,39.854,15.202,55.056,0l64.235-64.229c15.202-15.202,15.202-39.854,0-55.056L370.793,251.514l120.82-120.815 C506.815,115.49,506.815,90.845,491.613,75.643z"}))},radioButton:function(){return createElement("svg",{viewBox:"0 0 24 24",class:"svgIcon"},createElement("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"}),createElement("path",{d:"M12 7a5 5 0 1 0 5 5 5 5 0 0 0-5-5z"}))},refresh:function(){return createElement("svg",{viewBox:"0 0 426 426",class:"svgIcon"},createElement("path",{d:"M183.5 1.7C115.2 10.8 54.1 54.2 23.4 115.3c-10 19.8-18.5 44.8-18.6 54.7-.2 9.8 6.5 18.6 15.9 20.9 12 3.1 22.9-4.4 26.3-17.9 5-20 15.6-43.4 26.8-58.9C125.6 41.5 223.5 21 300.5 66.8c18.1 10.8 40.5 31.7 52.3 48.9 3.4 5 6.5 9.9 6.8 10.7.5 1.4-1.8 1.6-22 1.6-24.2 0-27.3.5-32.4 5.3-11.5 10.7-7.1 31.4 7.6 35.7 2.5.8 19.4 1 51.8.8l48-.3 3.7-2.5c2.1-1.4 5-4.3 6.5-6.4l2.7-3.9.3-48.1c.2-32.4 0-49.3-.8-51.8-4.3-14.7-25-19.1-35.7-7.6-4.3 4.5-5.3 8.9-5.3 22.3 0 6.9-.3 12.5-.7 12.4-.5 0-3.3-3.2-6.3-7-7.6-9.7-23.5-24.9-35.8-34.1-29.5-22.3-64.2-36.5-101-41.3-14.2-1.9-42-1.8-56.7.2zM394.8 235c-4.2 1.3-9.6 4.8-11.7 7.8-1 1.5-3.3 7.6-5.1 13.7-9.6 33.2-24.3 58.2-47.5 80.3-57.4 54.8-146.1 62.2-212.3 17.8-17.2-11.5-34.5-28.8-45.8-45.7-3.5-5.3-6.4-9.9-6.4-10.2 0-.3 10.8-.7 23.9-.9l23.9-.3 4.4-3c2.4-1.7 5.4-5.1 6.8-7.5 6.2-11.2.2-26.5-11.8-30-2.5-.8-19.4-1-51.9-.8l-48.1.3-4.3 3c-2.3 1.6-5.3 5-6.6 7.4L0 271.3v47.9c0 40.9.2 48.4 1.5 51.6 6.4 15.2 27.3 17.2 37 3.4 2.9-4.3 3-4.7 3.5-18.9l.5-14.6 5 6.4c7.3 9.5 24.7 26.5 35.3 34.7 30.8 23.7 67 38.4 106.2 43.2 12.5 1.5 38.1 1.2 52.2-.6 76.2-9.8 141.4-60.5 169.8-132 5.3-13.2 10.2-30.6 10.2-36.4.2-14-13.5-24.9-26.4-21z"}))}};return function(name,props){return icons[name](props)}}(window,document,app,app.createElement);var createElement=app.createElement,svgIcon=app.svgIcon,$=app.$;const App=app;var locations=function(){var locations={},_locations,key,item,iatas,index,obj;_locations={"NYC JFK LGA":["New York, US",40.6398,-73.7788,"NYC"],HIO:["Hillsboro, US",45.5228,-122.9898],FJR:["Fujairah, AE",25.1122,56.3241],PNQ:["Pune, India",18.5833,73.9166],GNV:["Gainesville, US",29.6516,-82.3248],PAO:["Palo Alto, US",37.4549,-122.1107],WLG:["Wellington",-41.3272,174.8052],BNA:["Nashville, US",36.1245,-86.6781],REC:["Recife, BR",-8.1264,-34.9235],NVT:["Timbo, BR",-26.8251,-49.2695],COK:["Kochi, IN",9.9312,76.2673],TIA:["Tirana, AL",41.4146,19.7206],ALG:["Algiers, DZ",36.691,3.2154],LAD:["Luanda, AO",-8.8583,13.2312],EZE:["Buenos Aires, AR",-34.8222,-58.5358],COR:["Córdoba, AR",-31.31,-64.2083],NQN:["Neuquen, AR",-38.949,-68.1557],EVN:["Yerevan, AM",40.1473,44.3959],ADL:["Adelaide, AU",-34.9431,138.5335],BNE:["Brisbane, AU",-27.3841,153.117],CBR:["Canberra, AU",-35.3069,149.195],HBA:["Hobart, AU",-42.8832,147.3316],MEL:["Melbourne, AU",-37.6733,144.843],PER:["Perth, AU",-31.9402,115.967],SYD:["Sydney, AU",-33.946,151.177],VIE:["Vienna, AT",48.1102,16.5697],LLK:["Astara, AZ",38.7463,48.818],GYD:["Baku, AZ",40.4674,50.0466],BAH:["Manama, BH",26.2707,50.6335],CGP:["Chittagong, BD",22.2495,91.8133],DAC:["Dhaka, BD",23.8433,90.3977],JSR:["Jashore, BD",23.1837,89.1607],MSQ:["Minsk, BY",53.9006,27.599],BRU:["Brussels, BE",50.9014,4.4844],PBH:["Thimphu, BT",27.4712,89.6339],GBE:["Gaborone, BW",-24.6282,25.9231],QWJ:["Americana, BR",-22.738,-47.334],BEL:["Belém, BR",-1.4563,-48.5013],CNF:["Belo Horizonte, BR",-19.6244,-43.9719],BNU:["Blumenau, BR",-26.8924,-49.0769],BSB:["Brasilia, BR",-15.7982,-47.9085],CFC:["Cacador, BR",-26.7762,-51.0125],VCP:["Campinas, BR",-22.9066,-47.0857],CGB:["Cuiaba, BR",-15.5961,-56.0966],CWB:["Curitiba, BR",-25.5284,-49.1758],FLN:["Florianopolis, BR",-27.6702,-48.5525],FOR:["Fortaleza, BR",-3.7762,-38.5326],GYN:["Goiania, BR",-16.6972,-49.2685],ITJ:["Itajai, BR",-27.6116,-48.6727],JOI:["Joinville, BR",-26.3044,-48.8463],JDO:["Juazeiro do Norte",-7.2242,-39.313],MAO:["Manaus, BR",-3.1128,-60.0194],POA:["Porto Alegre, BR",-29.9944,-51.1713],RAO:["Ribeirao Preto, BR",-21.1363,-47.7766],GIG:["Rio de Janeiro, BR",-22.8099,-43.2505],SSA:["Salvador, BR",-12.9086,-38.3224],SJP:["São José do Rio Preto",-20.8071,-49.3789],"GRU CGH":["São Paulo, BR",-23.4355,-46.473,"SAO"],SOD:["Sorocaba, BR",-23.5438,-46.6344],UDI:["Uberlandia, BR",-18.8836,-48.2252],BWN:["Bandar Seri Begawan",4.903,114.9398],SOF:["Sofia, BG",42.6966,23.4114],OUA:["Ouagadougou, BF",12.3531,-1.5124],PNH:["Phnom Penh, KH",11.5466,104.844],YYC:["Calgary, CA",51.1138,-114.0199],YVR:["Vancouver, CA",49.1939,-123.1839],YWG:["Winnipeg, CA",49.9099,-97.2398],YOW:["Ottawa, CA",45.3224,-75.6691],"YYZ YTO":["Toronto, CA",43.6772,-79.6305,"YYZ"],YUL:["Montréal, CA",45.4706,-73.7407],YXE:["Saskatoon, CA",52.1707,-106.6999],ARI:["Arica, CL",-18.3486,-70.3388],CCP:["Concepción, CL",-36.82,-73.0444],SCL:["Santiago, CL",-33.393,-70.7857],BOG:["Bogotá, CO",4.7015,-74.1469],MDE:["Medellín, CO",6.1645,-75.4231],SJO:["San José, CR",9.9938,-84.2088],ZAG:["Zagreb, HR",45.7429,16.0687],CUR:["Willemstad, CW",12.1888,-68.9598],LCA:["Nicosia, CY",34.875,33.6249],PRG:["Prague, CZ",50.1007,14.26],CPH:["Copenhagen, DK",55.6179,12.656],JIB:["Djibouti, DJ",11.5473,43.1595],SDQ:["Santo Domingo, DO",18.4297,-69.6688],GYE:["Guayaquil, EC",-2.1894,-79.8891],UIO:["Quito, EC",-0.1291,-78.3575],TLL:["Tallinn, EE",59.4132,24.8327],HEL:["Helsinki, FI",60.3171,24.9633],MRS:["Marseille, FR",43.4392,5.2214],"CDG PAR":["Paris, FR",49.0127,2.5499,"PAR"],TBS:["Tbilisi, GE",41.6692,44.9547],TXL:["Berlin, DE",52.5597,13.2876],DUS:["Düsseldorf, DE",51.2895,6.7667],"FRA HHN WIE":["Frankfurt, DE",50.0264,8.5431,"FRA"],HAM:["Hamburg, DE",53.6304,9.9882],MUC:["Munich, DE",48.3538,11.7861],ACC:["Accra, GH",5.6148,-0.2058],ATH:["Athens, GR",37.9364,23.9444],SKG:["Thessaloniki, GR",40.5196,22.9708],GND:["St. George's, GD",12.0071,-61.7882],GUM:["Hagatna, GU",13.4834,144.796],GUA:["Ciudad De Guatemala",14.5832,-90.5274],GEO:["Georgetown, GY",6.8256,-58.1637],PAP:["Port-au-Prince, HT",18.5799,-72.2925],TGU:["Tegucigalpa, HN",14.0608,-87.2172],HKG:["Hong Kong, HK",22.3089,113.915],BUD:["Budapest, HU",47.4369,19.2555],KEF:["Reykjavík, IS",63.985,-22.6056],AMD:["Ahmedabad, IN",23.0225,72.5714],BLR:["Bangalore, IN",13.7835,76.6165],BBI:["Bhubaneswar, IN",20.2961,85.8245],IXC:["Chandigarh, IN",30.6735,76.7884],MAA:["Chennai, IN",12.99,80.1692],HYD:["Hyderabad, IN",17.2313,78.4298],KNU:["Kanpur, IN",26.4499,80.3319],CCU:["Kolkata, IN",22.6476,88.4349],BOM:["Mumbai, IN",19.0886,72.8678],NAG:["Nagpur, IN",21.161,79.0024],DEL:["New Delhi, IN",28.5664,77.1031],PAT:["Patna, IN",25.5912,85.0879],CGK:["Jakarta, ID",-6.1275,106.6515],JOG:["Yogyakarta, ID",-7.7881,110.4319],BGW:["Baghdad, IQ",33.2625,44.2346],BSR:["Basra, IQ",30.5491,47.6621],EBL:["Erbil, IQ",36.1901,43.993],NJF:["Najaf, IQ",31.9897,44.4041],XNH:["Nasiriyah, IQ",30.9358,46.09],ISU:["Sulaymaniyah, IQ",35.5668,45.4161],ORK:["Cork, IE",51.8413,-8.4911],DUB:["Dublin, IE",53.4212,-6.27],HFA:["Haifa, IL",32.7849,34.9606],TLV:["Tel Aviv, IL",32.0113,34.8866],"MXP LIN":["Milan, IT",45.6305,8.7281,"MXP"],PMO:["Palermo, IT",38.1611,13.3154],FCO:["Rome, IT",41.8045,12.2508],OKA:["Naha, JP",26.1957,127.646],"KIX ITM":["Osaka, JP",34.4272,135.244,"KIX"],"NRT HND TYO TKO":["Tokyo, JP",35.7647,140.386,"NRT"],AMM:["Amman, JO",31.7226,35.9931],ALA:["Almaty, KZ",43.3521,77.0404],MBA:["Mombasa, KE",-4.0348,39.5942],NBO:["Nairobi, KE",-1.3192,36.9277],ICN:["Seoul, KR",37.4691,126.4509],KWI:["Kuwait, KW",29.2266,47.9688],VTE:["Vientiane, LA",17.9757,102.5682],RIX:["Riga, LV",56.9235,23.971],BEY:["Beirut, LB",33.8208,35.4883],VNO:["Vilnius, LT",54.6341,25.2858],LUX:["Luxembourg, LU",49.6265,6.2115],MFM:["Macau, MO",22.1495,113.592],TNR:["Antananarivo, MG",-18.9136,47.5361],JHB:["Johor Bahru, MY",1.6358,103.6659],KUL:["Kuala Lumpur, MY",2.7455,101.7099],MLE:["Male, MV",4.1748,73.5088],MRU:["Port Louis, MU",-20.4302,57.6836],MEX:["Ciudad De México",19.4363,-99.072],QRO:["Querétaro, MX",20.6173,-100.1859],KIV:["Chișinău, MD",46.9277,28.9309],ULN:["Ulaanbaatar, MN",47.8431,106.7669],CMN:["Casablanca, MA",33.3675,-7.5899],MPM:["Maputo, MZ",-25.9207,32.5726],MDL:["Mandalay, MM",21.7051,95.9695],RGN:["Yangon, MM",16.9073,96.1332],KTM:["Kathmandu, NP",27.6965,85.3591],AMS:["Amsterdam, NL",52.3086,4.7638],NOU:["Noumea, NC",-22.0146,166.2129],AKL:["Auckland, NZ",-37.008,174.792],CHC:["Christchurch, NZ",-43.4893,172.5319],LOS:["Lagos, NG",6.5773,3.3211],OSL:["Oslo, NO",60.1939,11.1003],MCT:["Muscat, OM",23.5932,58.2844],ISB:["Islamabad, PK",33.6166,73.0991],KHI:["Karachi, PK",24.9064,67.1607],LHE:["Lahore, PK",31.5216,74.4036],ZDM:["Ramallah, PS",32.2719,35.0194],PTY:["Ciudad De Panamá",9.0713,-79.3834],ASU:["Asunción, PY",-25.2399,-57.52],LIM:["Lima, PE",-12.0219,-77.1143],CGY:["Cagayan de Oro, PH",8.4156,124.611],CEB:["Cebu, PH",10.3074,123.9789],MNL:["Manila, PH",14.5086,121.0199],WAW:["Warsaw, PL",52.1656,20.9671],LIS:["Lisbon, PT",38.7812,-9.1359],DOH:["Doha, QA",25.2605,51.6137],RUN:["Saint-Denis, RE",-20.8871,55.5102],OTP:["Bucharest, RO",44.5722,26.1021],KHV:["Khabarovsk, RU",48.5279,135.188],KJA:["Krasnoyarsk, RU",56.0153,92.8931],DME:["Moscow, RU",55.4087,37.9062],LED:["Saint Petersburg, RU",59.8003,30.2625],KLD:["Tver, RU",56.8587,35.9176],SVX:["Yekaterinburg, RU",56.8431,60.6454],KGL:["Kigali, RW",-1.9686,30.1394],DMM:["Dammam, SA",26.4712,49.7979],JED:["Jeddah, SA",21.6795,39.1565],RUH:["Riyadh, SA",24.9575,46.6987],DKR:["Dakar, SN",14.7412,-17.4889],BEG:["Belgrade, RS",44.8184,20.309],"SIN QPG":["Singapore, SG",1.3501,103.994,"SIN"],BTS:["Bratislava, SK",48.1486,17.1077],CPT:["Cape Town, ZA",-33.9648,18.6016],DUR:["Durban, ZA",-29.6144,31.1197],JNB:["Johannesburg, ZA",-26.1333,28.25],BCN:["Barcelona, ES",41.2971,2.0784],MAD:["Madrid, ES",40.4936,-3.5667],CMB:["Colombo, LK",7.1807,79.8841],PBM:["Paramaribo, SR",5.4528,-55.1877],GOT:["Gothenburg, SE",57.6627,12.2798],"ARN BMA":["Stockholm, SE",59.6519,17.9186,"ARN"],GVA:["Geneva, CH",46.238,6.1089],ZRH:["Zurich, CH",47.4646,8.5491],KHH:["Kaohsiung, TW",22.5771,120.3499],TPE:["Taipei, TW",25.0776,121.233],DAR:["Dar es Salaam, TZ",-6.8781,39.2025],"BKK DMK":["Bangkok, TH",13.681,100.747,"BKK"],CNX:["Chiang Mai, TH",18.7667,98.9626],URT:["Surat Thani, TH",9.1325,99.1355],TUN:["Tunis, TN",36.851,10.2271],IST:["Istanbul, TR",40.9768,28.8145],KBP:["Kyiv, UA",50.345,30.8946],DXB:["Dubai, AE",25.2527,55.3643],EDI:["Edinburgh, GB",55.95,-3.3724],"LHR LON LCY":["London, GB",51.4706,-0.4619,"LON"],MAN:["Manchester, GB",53.3536,-2.2749],MGM:["Montgomery, US",32.3005,-86.3939],PHX:["Phoenix, US",33.4342,-112.012],"LAX BUR LGB":["Los Angeles, US",33.9425,-118.4079,"LAX"],SMF:["Sacramento, US",38.6954,-121.591],SAN:["San Diego, US",32.7336,-117.19],SFO:["San Francisco, US",37.6189,-122.375],"SJC WVI":["San Jose, US",37.3625,-121.929,"SJC"],DEN:["Denver, US",39.8616,-104.6729],JAX:["Jacksonville, US",30.4941,-81.6878],MIA:["Miami, US",25.7931,-80.2906],TLH:["Tallahassee, US",30.3964,-84.3503],TPA:["Tampa, US",27.9755,-82.5332],"ATL FTY PDK":["Atlanta, US",33.6366,-84.4281,"ATL"],HNL:["Honolulu, US",21.3187,-157.9219],"ORD CHI":["Chicago, US",41.9785,-87.9048,"CHI"],IND:["Indianapolis, US",39.7173,-86.2944],BOS:["Boston, US",42.3642,-71.0052],DTW:["Detroit, US",42.2123,-83.3534],"MSP STP":["Minneapolis, US",44.8819,-93.2218,"MSP"],MCI:["Kansas City, US",39.2975,-94.7138],STL:["St. Louis, US",38.7486,-90.37],OMA:["Omaha, US",41.3031,-95.894],LAS:["Las Vegas, US",36.0801,-115.152],EWR:["Newark, US",40.6925,-74.1687],BUF:["Buffalo, US",42.9404,-78.7322],CLT:["Charlotte, US",35.214,-80.943],"CMH LCK":["Columbus, US",39.998,-82.8918,"CMH"],PDX:["Portland, US",45.5886,-122.5979],PHL:["Philadelphia, US",39.8718,-75.241],PIT:["Pittsburgh, US",40.4915,-80.2329],MEM:["Memphis, US",35.0424,-89.9766],"DFW DAL ADS":["Dallas, US",32.8968,-97.038,"DFW"],IAH:["Houston, US",29.9843,-95.3414],MFE:["McAllen, US",26.1758,-98.2386],SLC:["Salt Lake City, US",40.7883,-111.9779],"IAD WDC DCA":["Ashburn, US",38.9444,-77.4558,"IAD"],ORF:["Norfolk, US",36.8945,-76.2012],RIC:["Richmond, US",37.5051,-77.3197],"SEA BFI":["Seattle, US",47.449,-122.3089,"SEA"],TAS:["Tashkent, UZ",41.2579,69.2811],HAN:["Hanoi, VN",21.2212,105.8069],SGN:["Ho Chi Minh City, VN",10.8187,106.652],HRE:["Harare, ZW",-17.9318,31.0928],PPT:["Tahiti, PF",-17.5536,-149.6069],STR:["Stuttgart, DE",48.7833,9.1833],FUK:["Fukuoka, JP",33.5902,130.4017],ADB:["Izmir, TR",38.3237,27.1431],FSD:["Sioux Falls, US",43.5408,-96.6551],KIN:["Kingston, JM",17.9951,-76.7846],VIX:["Vitoria, BR",-20.6487,-41.9085],SJK:["São José dos Campos",-23.179,-45.8872],BGR:["Bangor, US",44.8081,-68.795]};for(key in _locations){item=_locations[key];iatas=key.split(" ");for(index=0;index<iatas.length;index++){obj={name:item[0],lat:item[1],lon:item[2]};if(item[3])obj.iata=item[3];locations[iatas[index]]=obj}}return locations}();const Locations=locations;var TestConfig_test=window.test=function(app,locations){var secure="https:"==location.protocol,isLocal="localhost"==location.hostname,isArray=Array.isArray,awsUrl={ping:"ubiquity.us-east-1.prod.endpoints.ubiquity.aws.a2z.com/api/burst/0",download:"ubiquity.us-east-1.prod.endpoints.ubiquity.aws.a2z.com/api/burst/10485760",upload:"cheetah-test-us-east-1-02.s3-accelerate.amazonaws.com/test/cheetah-end-test-blob/29289-6853-30579-5342"},aws2=["digitalpigeon-speed-test-us-west.s3-accelerate.amazonaws.com/write.bin|read-1gb.bin","digitalpigeon-speed-test-ap-au.s3-accelerate.amazonaws.com/write.bin|read-1gb.bin","digitalpigeon-speed-test-ap-sg.s3-accelerate.amazonaws.com/write.bin|read-1gb.bin","digitalpigeon-speed-test-eu-ie.s3-accelerate.amazonaws.com/write.bin|read-1gb.bin"],storage=localStorage,test,fbStaticUrl,mmgWsUrl,servers,awsRegions,key,item,protocol;fbStaticUrl="static.xx.fbcdn.net/rsrc.php/yb/r/hLRJ1GG_y0J.ico";mmgWsUrl="mmg.whatsapp.net/v/t62.7119-24/40854468_207961775175361_3591365181713538025_n.enc?ccb=11-4&oh=01_AdS9S6KZt4NKr1erwlJ8tw38x3ZUUGc4firYY2JD92m1PA&oe=644BDBC7&hash=iin4ATlQWY-Rd5UxLxKo53Ll17kSiIhOj7zm9sg47UU%3D&mode=manual&mms-type=document&__wa-mms=";awsRegions=[{name:"Ashburn, Virginia",iata:"IAD",region:"us-east-1",xupload:true},{name:"Ohio",iata:"CMH",region:"us-east-2",xupload:true},{name:"San Francisco",iata:"SFO",region:"us-west-1",xupload:true},{name:"Portland, Oregon",iata:"PDX",region:"us-west-2",xupload:true},{name:"Toronto",iata:"YYZ",region:"ca-central-1",xupload:true},{name:"Dublin",iata:"DUB",region:"eu-west-1",xupload:true},{name:"London",iata:"LHR",region:"eu-west-2",xupload:true},{name:"Paris",iata:"CDG",region:"eu-west-3",xupload:true},{name:"Frankfurt",iata:"FRA",region:"eu-central-1",xupload:true},{name:"Stockholm",iata:"ARN",region:"eu-north-1"},{name:"Milan",iata:"MXP",region:"eu-south-1"},{name:"Tokyo",iata:"NRT",region:"ap-northeast-1",xupload:true},{name:"Seoul",iata:"ICN",region:"ap-northeast-2",xupload:true},{name:"Osaka",iata:"KIX",region:"ap-northeast-3"},{name:"Singapore",iata:"SIN",region:"ap-southeast-1",xupload:true},{name:"Sydney",iata:"SYD",region:"ap-southeast-2",xupload:true},{name:"São Paulo",iata:"GRU",region:"sa-east-1",xupload:true},{name:"Cape Town",iata:"CPT",region:"af-south-1"},{name:"Bahrain",iata:"BAH",region:"me-south-1"},{name:"Mumbai",iata:"BOM",region:"ap-south-1",xupload:true}].map((function(item){item.ping=awsUrl.ping.replace("us-east-1",item.region);item.download=awsUrl.download.replace("us-east-1",item.region);if(item.xupload)item.upload=awsUrl.upload.replace("us-east-1",item.region);item.lat=locations[item.iata].lat;item.lon=locations[item.iata].lon;return item}));servers={"custom-1":{name:"Custom Url",distance:-1},"cf-1":{name:"Cloudflare Network",ping:"speed.cloudflare.com/__down?nohead",preconnect:"speed.cloudflare.com/__down",download:"speed.cloudflare.com/__down?bytes=10000000000",distance:-1,cdn:true},"cf-2":{name:"Cloudflare Network",ping:"speedtest-ap9.pages.dev/cdn-cgi/trace",preconnect:"speed.cloudflare.com/__down",download:"speed.cloudflare.com/__down?bytes=10000000000",distance:-1,cdn:true},"ch-1":{name:"Cachefly Network",ping:"luisfreyle.cachefly.net/ping?nohead",download:"cachefly.cachefly.net/100mb.test",distance:-1,cdn:true},"ct-1":{name:"Cloudfront Network",ping:"d375c8n0f70a17.cloudfront.net/ping",distance:-1,cdn:true},"ft-1":{name:"Fastly Network",ping:"luisfreyle.global.ssl.fastly.net/i/ping",distance:-1,cdn:true},"ft-2":{name:"Fastly Network",download:["n-1.ispeedtest.xyz/download.bin","n-2.ispeedtest.xyz/download.bin","n-3.ispeedtest.xyz/download.bin","n-4.ispeedtest.xyz/download.bin"],distance:-1},"aw-1":{name:"AWS Network",ping:awsRegions[0].ping,download:awsRegions[0].download,upload:"d375c8n0f70a17.cloudfront.net/upload",distance:-1,active:false},"cf-3":{name:"Cloudflare Network",wsping:"speedtest.luisfreyle.workers.dev/wsping",distance:-1},"nyc-1":{name:"New York, US",provider:"Vultr",ping:"phl.speedsmart.net/ping.txt",download:"phl.speedsmart.net/100MB.bin",upload:"phl.speedsmart.net/upload.php",wsping:"nyc.speedtest.clouvider.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Clouvider",iata:"EWR",cc:"US"},"iad-1":{name:"Virginia, US",provider:"AWS",ping:"nvirginia.bandwidthplace.com/echo.php",download:"nvirginia.bandwidthplace.com/s/102400.jpg",upload:"speedtest.uswdc01.shadow.tech/empty.php?cors=true",wsping:"ook-iad-x1.puregig.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Netprotect",iata:"IAD",cc:"US"},"chi-1":{name:"Chicago, US",provider:"Vultr",ping:"chicago.speedsmart.net/ping.txt",download:"chicago.speedsmart.net/100MB.bin",upload:"chicago.speedsmart.net/upload.php",wsping:"ook-chi-x1.puregig.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Netprotect",iata:"ORD",cc:"US"},"atl-1":{name:"Atlanta, US",provider:"Vultr",ping:"atlanta.speedsmart.net/ping.txt",download:"atlanta.speedsmart.net/100MB.bin",upload:"atlanta.speedsmart.net/upload.php",wsping:"atl.speedtest.clouvider.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Clouvider",iata:"ATL",cc:"US"},"mia-1":{name:"Miami, US",provider:"Vultr",ping:"miami.speedsmart.net/ping.txt",download:"miami.speedsmart.net/100MB.bin",upload:"miami.speedsmart.net/upload.php",wsping:"ook-mia-x1.puregig.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Netprotect",iata:"MIA",cc:"US"},"dfw-1":{name:"Dallas, US",provider:"Vultr",ping:"dallas1.speedsmart.net/ping.txt",download:"dallas1.speedsmart.net/100MB.bin",upload:"dallas1.speedsmart.net/upload.php",wsping:"ook-dal-x1.puregig.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Netprotect",iata:"DFW",cc:"US"},"lax-1":{name:"Los Angeles, US",provider:"Vultr",ping:"la.speedsmart.net/ping.txt",download:"la.speedsmart.net/100MB.bin",upload:"la.speedsmart.net/upload.php",wsping:"la.speedtest.clouvider.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Clouvider",iata:"LAX",cc:"US"},"sea-1":{name:"Seattle, US",provider:"Vultr",ping:"sea.veeapps.com/ping.txt",download:"sea.veeapps.com/100MB.bin",upload:"sea.veeapps.com/upload.php",wsping:"ook-sea-x1.puregig.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Netprotect",iata:"SEA",cc:"US"},"tor-1":{name:"Toronto, CA",provider:"Vultr",ping:"toronto.veeapps.com/ping.txt",download:"toronto.veeapps.com/100MB.bin",upload:"toronto.veeapps.com/upload.php",wsping:"yyz-speedtest.xplore.ca.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Xplore",iata:"YYZ",cc:"CA"},"bog-1":{name:"Bogotá, CO",provider:"Edgeuno",download:"speedtest.bog.edgeuno.com/backend/garbage.php?cors=true&ckSize=100",upload:"speedtest.bog.edgeuno.com/backend/empty.php?cors=true",ping:"speedtest.bog.edgeuno.com/backend/empty.php?cors=true",wsping:"spt-bog1.edgeuno.com:8080/ws"||0,iata:"BOG",cc:"CO",wsPrefer:true},"bog-2":{name:"Bogotá, CO",provider:"ETB",wsping:"etb-medidor.etb.net.co:8080/ws"||0,iata:"BOG",cc:"CO"},"qui-1":{name:"Quito, EC",provider:"Edgeuno",download:"speedtest.uio1.edgeuno.com/backend/garbage.php?cors=true&ckSize=100",upload:"speedtest.uio1.edgeuno.com/backend/empty.php?cors=true",ping:"speedtest.uio1.edgeuno.com/backend/empty.php?cors=true",wsping:"spt-uio.edgeuno.com.prod.hosts.ooklaserver.net:8080/ws",iata:"UIO",cc:"EC",wsPrefer:true},"mx-1":{name:"Ciudad De México",provider:"Vultr",ping:"mx.speedsmart.net/ping.txt",download:"mx.speedsmart.net/100MB.bin",upload:"mx.speedsmart.net/upload.php",wsping:"spt-qro1.edgeuno.com.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Edgeuno",iata:"MEX",cc:"MX"},"lim-1":{name:"Lima, PE",provider:"Edgeuno",download:"speedtest.lim.edgeuno.com/backend/garbage.php?cors=true&ckSize=100",upload:"speedtest.lim.edgeuno.com/backend/empty.php?cors=true",ping:"speedtest.lim.edgeuno.com/backend/empty.php?cors=true",wsping:"spt-lim.edgeuno.com:8080/ws",iata:"LIM",cc:"PE",wsPrefer:true},"eze-1":{name:"Buenos Aires, AR",provider:"Edgeuno",download:"speedtest.eze1.edgeuno.com/backend/garbage.php?cors=true&ckSize=100",upload:"speedtest.eze1.edgeuno.com/backend/empty.php?cors=true",ping:"speedtest.eze1.edgeuno.com/backend/empty.php?cors=true",wsping:"ar.sa.speedtest.i3d.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"i3d",iata:"EZE",cc:"AR",wsPrefer:true},"san-1":{name:"Santiago, CL",provider:"Oracle",ping:"santiago.bandwidthplace.com/echo.php",download:"santiago.bandwidthplace.com/s/102400.jpg",upload:"santiago.bandwidthplace.com/uploader/upload.cgi",wsping:"cl.sa.speedtest.i3d.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"i3d",iata:"SCL",cc:"CL"},"sao-1":{name:"São Paulo, BR",provider:"AWS",ping:"saopaulo.bandwidthplace.com/echo.php",download:"saopaulo.bandwidthplace.com/s/102400.jpg",upload:"saopaulo.bandwidthplace.com/uploader/upload.cgi",wsping:"sa.speedtest.i3d.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"i3d",iata:"GRU",cc:"BR"},"mad-1":{name:"Madrid, ES",provider:"Vultr",ping:"madrid.speedsmart.net/ping.txt",download:"madrid.speedsmart.net/100MB.bin",upload:"madrid.speedsmart.net/upload.php",wsping:"ook-mad-x1.puregig.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Netprotect",iata:"MAD",cc:"ES"},"lhr-1":{name:"London, GB",provider:"Vultr",ping:"london.speedsmart.net/ping.txt",download:"london.speedsmart.net/100MB.bin",upload:"london.speedsmart.net/upload.php",wsping:"lon.speedtest.clouvider.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Clouvider",iata:"LHR",cc:"GB"},"par-1":{name:"Paris, FR",provider:"Vultr",ping:"paris.veeapps.com/ping.txt",download:"paris.veeapps.com/100MB.bin",upload:"paris.veeapps.com/upload.php",wsping:"montsouris3.speedtest.orange.fr.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Orange",iata:"CDG",cc:"FR"},"ams-1":{name:"Amsterdam, NL",provider:"Vultr",ping:"amsterdam.speedsmart.net/ping.txt",download:"amsterdam.speedsmart.net/100MB.bin",upload:"amsterdam.speedsmart.net/upload.php",wsping:"ams.speedtest.clouvider.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Clouvider",iata:"AMS",cc:"NL"},"fra-1":{name:"Frankfurt, DE",provider:"Vultr",ping:"frankfurt.veeapps.com/ping.txt",download:"frankfurt.veeapps.com/100MB.bin",upload:"frankfurt.veeapps.com/upload.php",wsping:"fra.speedtest.clouvider.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Clouvider",iata:"FRA",cc:"DE"},"mxp-1":{name:"Milan, IT",provider:"Softlayer",ping:"milan.bandwidthplace.com/echo.php",download:"milan.bandwidthplace.com/s/102400.jpg",upload:"milan.bandwidthplace.com/uploader/upload.cgi",wsping:"it.eu.speedtest.i3d.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"i3d",iata:"MXP",cc:"IT"},"arn-1":{name:"Stockholm, SE",provider:"Vultr",ping:"se.speedsmart.net/ping.txt",download:"se.speedsmart.net/100MB.bin",upload:"se.speedsmart.net/upload.php",wsping:"ook-sto-x1.puregig.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Netprotect",iata:"ARN",cc:"SE"},"waw-1":{name:"Warsaw, PL",provider:"Vultr",ping:"warsaw.speedsmart.net/ping.txt",download:"warsaw.speedsmart.net/100MB.bin",upload:"warsaw.speedsmart.net/upload.php",wsping:"ook-waw-x1.puregig.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Netprotect",iata:"WAW",cc:"PL"},"bah-1":{name:"Manama, BH",provider:"AWS",ping:"bahrain.bandwidthplace.com/echo.php",download:"bahrain.bandwidthplace.com/s/102400.jpg",upload:"bahrain.bandwidthplace.com/uploader/upload.cgi",wsping:"speedtest.batelco.com.prod.hosts.ooklaserver.net:8080/ws",iata:"BAH",cc:"BH"},"dxb-1":{name:"Dubai, AE",provider:"Oracle",ping:"oracle-ae.speedcheckerapi.com/speedchecker/image31.jpg",download:"oracle-ae.speedcheckerapi.com/speedchecker/image31.jpg",upload:"oracle-ae.speedcheckerapi.com/speedchecker/upload.php",wsping:"ae.ap.speedtest.i3d.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"i3d",iata:"DXB",cc:"AE"},"del-1":{name:"New Delhi, IN",provider:"Vultr",ping:"del-in-ping.vultr.com/favicon.ico",download:"mumbai.speedsmart.net/100MB.bin",upload:"mumbai.speedsmart.net/upload.php",wsping:"spdel.pcpli.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Pcpli",iata:"DEL",cc:"IN"},"bom-1":{name:"Mumbai, IN",provider:"Vultr",ping:"mumbai.speedsmart.net/ping.txt",download:"mumbai.speedsmart.net/100MB.bin",upload:"mumbai.speedsmart.net/upload.php",wsping:"in.as.speedtest.i3d.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"i3d",iata:"BOM",cc:"IN"},"blr-1":{name:"Bangalore, IN",provider:"Vultr",ping:"bangalore.speedsmart.net/ping.txt",download:"bangalore.speedsmart.net/100MB.bin",upload:"bangalore.speedsmart.net/upload.php",wsping:"bangalorespeedtest.spectra.co.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Spectra",iata:"BLR",cc:"IN"},"icn-1":{name:"Seoul, KR",provider:"AWS",ping:"direct.ap-northeast-2.prod.endpoints.ubiquity.aws.a2z.com/api/burst/0",download:"seoul.speedsmart.net/100MB.bin",upload:"seoul.speedsmart.net/upload.php",iata:"ICN",cc:"KR"},"nrt-1":{name:"Tokyo, JP",provider:"Vultr",ping:"tokyo.veeapps.com/ping.txt",download:"tokyo.veeapps.com/100MB.bin",upload:"tokyo.veeapps.com/upload.php",wsping:"jp.as.speedtest.i3d.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"i3d",iata:"NRT",cc:"JP"},"syd-1":{name:"Sydney, AU",provider:"Vultr",ping:"sydney.speedsmart.net/ping.txt",download:"sydney.speedsmart.net/100MB.bin",upload:"sydney.speedsmart.net/upload.php",wsping:"oc.speedtest.i3d.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"i3d",iata:"SYD",cc:"AU"},"mel-1":{name:"Melbourne, AU",provider:"Vultr",ping:"melbourne.speedsmart.net/ping.txt",download:"melbourne.speedsmart.net/100MB.bin",upload:"melbourne.speedsmart.net/upload.php",wsping:"speedtest-10g.opticomm.net.au.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"Opticom",iata:"MEL",cc:"AU"},"sin-1":{name:"Singapore, SG",provider:"Vultr",ping:"sg.veeapps.com/ping.txt",download:"sg.veeapps.com/100MB.bin",upload:"sg.veeapps.com/upload.php",wsping:"sg.as.speedtest.i3d.net.prod.hosts.ooklaserver.net:8080/ws",wsprovider:"i3d",iata:"SIN",cc:"SG"},"ct-3":{name:"Cloudfront CF",preconnect:"d375c8n0f70a17.cloudfront.net/__down",download:"d375c8n0f70a17.cloudfront.net/__down?bytes=1000000000",distance:100000},"ct-4":{name:"Cloudfront FT",download:"d375c8n0f70a17.cloudfront.net/download.bin",distance:100000},"uk-1":{upload:"uk1.loadingtest.com/upload.php",distance:100000},"uk-2":{upload:"uk2.loadingtest.com/upload.php",distance:100000},"uk-3":{upload:"uk3.loadingtest.com/upload.php",distance:100000},"uk-4":{upload:"uk.loadingtest.com/upload.php",distance:100000},"uk-5":{upload:"www.loadingtest.com/upload.php",distance:100000},"wha-1":{name:"WhatsApp",ping:mmgWsUrl,download:mmgWsUrl,upload:mmgWsUrl,distance:100000},"wha-2":{name:"WhatsApp - WOM",download:[mmgWsUrl,mmgWsUrl.replace("mmg","media.fbog13-1.fna"),mmgWsUrl.replace("mmg","media.fbog17-1.fna"),mmgWsUrl.replace("mmg","media.fbog17-2.fna"),mmgWsUrl.replace("mmg","media.fbog18-1.fna"),mmgWsUrl.replace("mmg","media.fbog18-2.fna")],upload:mmgWsUrl,distance:100000},"wha-3":{name:"WhatsApp - ETB",download:[mmgWsUrl,mmgWsUrl.replace("mmg","media.fbog3-1.fna"),mmgWsUrl.replace("mmg","media.fbog3-2.fna"),mmgWsUrl.replace("mmg","media.fbog4-1.fna"),mmgWsUrl.replace("mmg","media.fbog4-2.fna")],upload:mmgWsUrl,distance:100000},"wha-4":{name:"WhatsApp - Claro",download:[mmgWsUrl,mmgWsUrl.replace("mmg","media.fbog17-2.fna"),mmgWsUrl.replace("mmg","media.fbog18-1.fna"),mmgWsUrl.replace("mmg","media.fbog18-2.fna")],upload:mmgWsUrl,distance:100000},"fb-1":{name:"Facebook Upload",upload:fbStaticUrl,distance:100000},"custom-2":{name:"Custom Url",distance:100000}};for(key in servers){item=servers[key];protocol="http"+(item.download&&item.download.search&&-1!=item.download.search(/(cachefly|front|ispeedtest)\.(com|net|xyz)/)&&!secure?"":"s")+"://";item.id=key;if(item.iata){item.lat=locations[item.iata].lat;item.lon=locations[item.iata].lon}if(item.download)if(isArray(item.download))item.download.forEach((function(node,index){item.download[index]=protocol+node}));else item.download=protocol+item.download;if(item.preconnect)item.preconnect=protocol+item.preconnect;if(item.upload)item.upload="https://"+item.upload;if(item.ping)item.ping="https://"+item.ping;if(item.xping)item.xping="https://"+item.xping;if(item.wsping)item.wsping="ws"+(secure?"s":"")+"://"+item.wsping}function preferences(type){var prop;return function preference(name,def){prop=type+"_"+name;if(storage[type+"_savePreferences"]||"customUrl"==name||"network_requestsNum"==prop)return prop in storage?storage[prop]:def;storage[prop]=def;return def}}test={isLocal,started:false,opened:false,runTime:12000,hearbeatTime:80,connections:{default:5,value:"multi"},mode:"1",bufferEnabled:true,servers,awsRegions,locations,uploadData:new Blob([new ArrayBuffer(1000000*50)],{type:"text/plain"}),runType:{current:"none",download:false,upload:false},selected:"ch-1",closestDone:false};test.network=function(){var preference=preferences("network");return{selected:preference("selected","ch-1").split(", "),customUrl:preference("customUrl",""),requestsNum:preference("requestsNum",""),persistent:preference("persistent","true"),uploadMode:preference("uploadMode",""),savePreferences:preference("savePreferences","")}}();test.ping=function(){var preference=preferences("ping"),graphItems=[],graphItemsLen=100,index;for(index=0;index<graphItemsLen;index++)graphItems.push(index);return{selected:preference("selected","cf-3"),resultsNum:preference("resultsNum",100),wsping:preference("wsping","true"),savePreferences:preference("savePreferences",""),customUrl:preference("customUrl",""),graphItems,graphItemsVisible:[1,3,5,7,9,11,14,17,20,23,26,29,32,35,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83,86,89,92,95,98]}}();return test}(App,Locations);const TestConfig=TestConfig_test;function MainHeader(){var elem={logoIcon:createElement("button"),switchButton:createElement("button"),testOptions:createElement("div"),workerButton:createElement("button"),toggleButton:createElement("button"),settingsButton:createElement("button"),settingsMenu:createElement("div"),settingsList:createElement("div")},consoleOpened=false;function toggleSettingsMenu(){elem.settingsMenu.toggle()}function reload(){if(test.isLocal)location.reload()}function logoIconClick(){App.event("switchStage","network"==App.pageView()?"main":"network")}function switchButtonClick(){App.event("switchStage","ping"==App.pageView()?"main":"ping")}function toggleButtonClick(){consoleOpened=!consoleOpened;elem.toggleButton.textContent(App.lang[consoleOpened?"$9":"$8"]);App.event("consoleToggle",{toggle:consoleOpened})}function storeDataClick(){App.event("storeData")}this.events={startTest:function(){elem.settingsList.addClass("disabled")},testFinished:function(){elem.settingsList.removeClass("disabled")},updateStage:function(){var view=App.pageView();elem.switchButton.textContent("ping"!=view?"Ping Test":"< Speed Test")}};this.render=function(){return createElement("header",{className:"main-header"},createElement("div",{className:"main-header_container container flex align-center"},createElement("div",{className:"main-header_logo flex align-center"},createElement(elem.logoIcon,{className:"main-header_icon",ariaLabel:"Network",title:"Network",onclick:logoIconClick},svgIcon("testLogo")),createElement("span",{className:"main-header_text",textContent:"SPEEDTEST",onclick:reload}),createElement("span",{className:"main-header_divider",textContent:"•"})),createElement("div",{className:"main-header_nav flex align-center justify-between grow-1 wrap"},createElement(elem.switchButton,{className:"main-header_button",textContent:"ping"!=App.pageView()?"Ping Test":"< Speed Test",onclick:switchButtonClick}),createElement(elem.testOptions,{className:"main-header_options flex align-center"},createElement(elem.toggleButton,{className:"test-option test-option_toggle-button hover-underline",textContent:App.lang.$8,onclick:toggleButtonClick}),createElement("div",{className:"test-option test-settings flex relative"},createElement(elem.settingsButton,{className:"test-settings_button",ariaLabel:App.lang.$20,title:App.lang.$20,onclick:toggleSettingsMenu},svgIcon("menu")),createElement(elem.settingsMenu,{className:"test-settings_menu menu",style:"display: none;"},createElement("div",{className:"menu_inner"},createElement(elem.settingsList,{className:"test-settings_list flex select-none"},createElement("div",{className:"menu_colum"},createElement("div",{className:"list-item"},App.lang.$11+": "),createElement("div",{className:"list-item"},App.lang.$12+": "),createElement("div",{className:"list-item"},App.lang.$13+": "),createElement("div",{className:"list-item"},App.lang.$14+": ")),createElement("div",{className:"menu_colum"},createElement("div",{className:"list-item"},createElement("input",{id:"testTime",type:"number",min:"1",max:"60",value:test.runTime/1000})),createElement("div",{className:"list-item"},createElement("select",{id:"testConnections"},createElement("option",{value:"multi",textContent:"Multi",selected:true}),createElement("option",{value:"1",textContent:"1"}),createElement("option",{value:"2",textContent:"2"}),createElement("option",{value:"3",textContent:"3"}),createElement("option",{value:"4",textContent:"4"}),createElement("option",{value:"5",textContent:"5"}),createElement("option",{value:"6",textContent:"6"}))),createElement("div",{className:"list-item"},createElement("select",{id:"testOutputSpeed"},createElement("option",{value:"instant",textContent:App.lang.$18}),createElement("option",{value:"average",selected:true,textContent:App.lang.$19}))),createElement("div",{className:"list-item"},createElement("select",{id:"testMode"},createElement("option",{value:"1",textContent:App.lang.$15,selected:"1"==test.mode}),createElement("option",{value:"2",textContent:App.lang.$16,selected:"2"==test.mode}),createElement("option",{value:"3",textContent:App.lang.$17,selected:"3"==test.mode})))))),createElement("div",{className:"menu_overlay",onclick:toggleSettingsMenu}))),createElement("button",{className:"store-data_button flex align-center spacing-medium",onclick:storeDataClick},svgIcon("checked"),createElement("b",{textContent:"STORE DATA"}))))))}}const js_MainHeader=MainHeader;function Gauge(props){var increments=[0,1,5,10,20,30,50,75,100],incrementsLen=increments.length,incrementsRef=1/(incrementsLen-1),circleStrokeMin=404,circleStrokeMax=194,needleRotateMin=49,needleRotateMax=310,circleOffsetRan=circleStrokeMax-circleStrokeMin,needleRotateRan=needleRotateMax-needleRotateMin,elem={gauge:createElement("div"),speedNumber:createElement("div"),increments:createElement("div"),needle:createElement("div"),speedCircle:createElement("circle")},round=Math.round,index,increment,prevIncrement,activeIncrements,prevActiveIncrements="",gaugePercent,circleOffset,needleRotate;function updateNumber(value){elem.speedNumber.textContent(value)}function updateIcon(speedRate){activeIncrements="";if(speedRate<0)speedRate=0;if(speedRate>100)gaugePercent=1;for(index=0;index<incrementsLen;index++){increment=increments[index];if(speedRate>=increment&&speedRate>0)activeIncrements+=" on--"+index;if(speedRate<increment){prevIncrement=increments[index-1];gaugePercent=(speedRate-prevIncrement)/(increment-prevIncrement)*incrementsRef+incrementsRef*(index-1);break}}circleOffset=round(100*(circleOffsetRan*gaugePercent+circleStrokeMin))/100;needleRotate=round(100*(needleRotateRan*gaugePercent+needleRotateMin))/100;elem.speedCircle.attr("stroke-dashoffset",circleOffset);elem.needle.attr("style","transform: rotate("+needleRotate+"deg);");if(activeIncrements.length!=prevActiveIncrements.length)elem.increments.attr("class","gauge_increments"+activeIncrements);prevActiveIncrements=activeIncrements}function gaugeDashoffset(speedRate){updateIcon(speedRate)}this.methods={loadType:function(e){elem.gauge.removeClass("gauge_download gauge_upload").addClass("gauge_"+e.type)},updateNumber:function(e){updateNumber(e.number)},updateIcon:function(e){updateIcon(e.speedRate)},clear:function(){updateNumber("0.0");updateIcon(0)}};this.render=function(){return createElement(elem.gauge,{className:"gauge gauge_"+(props.loadType||"download")},createElement("div",{className:"gauge_icon"},createElement("svg",{viewBox:"0 0 100 100"},createElement("circle",{class:"gauge_circle gauge_background",r:"42.1",cx:"50%",cy:"50%"}),createElement("circle",{class:"gauge_circle gauge_loading-background",r:"42.2",cx:"50%",cy:"50%"}),createElement("circle",{class:"gauge_circle gauge_stroke-left",r:"46",cx:"50%",cy:"50%"}),createElement("circle",{class:"gauge_circle gauge_stroke-right",r:"46",cx:"50%",cy:"50%"}),createElement(elem.speedCircle,{class:"gauge_circle gauge_stroke-speed",r:"46",cx:"50%",cy:"50%","stroke-dashoffset":"404"}))),createElement("div",{className:"gauge_inner"},createElement(elem.increments,{className:"gauge_increments"},increments.map((function(item,index){return createElement("div",{className:"gauge_increment increment--"+index,textContent:item})}))),createElement(elem.needle,{className:"gauge_needle"},createElement("svg",{viewBox:"0 0 120 801"},createElement("linearGradient",{id:"needleGradient",x1:"0",x2:"0",y1:"0",y2:"1"},createElement("stop",{"stop-opacity":"0","stop-color":"transparent",offset:"40%"}),createElement("stop",{"stop-opacity":"0.95","stop-color":"currentColor",offset:"100%"})),createElement("path",{d:"M95 800.5l-34.25-.958H26.5L0 .5h120l-25 800z",fill:"url(#needleGradient)"}))),createElement("div",{className:"gauge_state"},createElement(elem.speedNumber,{className:"gauge_speed-number speed-number",textContent:"0.0"}),createElement("div",{className:"gauge_speed-unit flex center"},svgIcon("uplink"),createElement("span",{className:"text-holder",textContent:"Mbps"})))))}}const js_Gauge=Gauge;function NetworkStage(props){var elem={stage:createElement("div"),start:createElement("div"),customUrl:createElement("input"),selectUrlMenu:createElement("div"),requestsNum:createElement("select"),persistent:createElement("input"),uploadMode:createElement("input"),savePreferences:createElement("input"),selectedServers:createElement("div"),gauge:createElement(js_Gauge),console:createElement("textarea"),done:createElement("span"),doneMenu:createElement("div"),doneUrls:createElement("div"),doneLoaded:createElement("textarea"),current:createElement("span"),active:createElement("span")},measures={},timenow=Date.now,random=App.random,fixNumber=App.fixNumber,transferredData=App.transferred,loadedData=App.loaded,consoleTime=App.consoleTime,consoleSpeed=App.consoleSpeed,actiontime=Date.now(),consoleLines=[],storage=localStorage,runType=TestConfig.network.uploadMode?"upload":"download",runTypeCurrent=runType,loadStartTime,persistent,doneRequests,interval,timeout;function consoleScroll(){elem.console.scrollTop(elem.console.scrollHeight())}function consoleLog(data,logState){var scrollHeight=elem.console.scrollHeight(),scrollTop=elem.console.scrollTop(),elemHeight=elem.console.offsetHeight(),scrollIsDown=scrollTop>scrollHeight-elemHeight-10;if(scrollIsDown||consoleLines.length<100){if(logState)data="["+runType+"] "+data;consoleLines.push(data);if(consoleLines.length>100)consoleLines.splice(0,1);elem.console.value(consoleLines.join("\n"));if(scrollIsDown)consoleScroll()}}function consoleClear(){consoleLines=[];elem.console.value("")}function serverName(id){var server=TestConfig.servers[id];return server.name+(server.provider?" - "+server.provider:"")}function preventDefault(e){e.preventDefault()}doneRequests=function(){var inner,len,index;function update(updateUrls){inner="";len=measures.requests.length<20?measures.requests.length:20;if(updateUrls)elem.doneUrls.empty();for(index=0;index<len;index++){if(updateUrls)elem.doneUrls.append(createElement("a",{className:"network-measures_text-url",href:measures.requests[index].url,textContent:measures.requests[index].url,onclick:preventDefault}));inner+=(0!=index?"\n":"")+loadedData(measures.requests[index].loaded)}elem.doneLoaded.value(inner)}return{update}}();function stopMeasures(type){if(measures.started){clearTimeout(timeout);measures.requests.forEach((function(req){req.xhr&&req.xhr.abort()}));measures.current=0;measures.active=0;interval.stop();elem.current.textContent("0");elem.active.textContent("0");elem.gauge.method("clear");elem.stage.removeClass("started");if("error"==type)consoleLog("Measures error",true);consoleLog("Finished measures.");measures.started=false}}interval=function(){var time,progressTime,loadTime,transfer,speed,buffer,prev,comp,intervalId,count;function callback(last){time=timenow();progressTime=time-(prev.time||time);loadTime=time-loadStartTime;transfer.transferred=measures.loaded-prev.loaded;if(transfer.transferred)transfer.count+=1;if(transfer.transferred){buffer.push({loaded:measures.loaded,time});if(buffer[buffer.length-1].time-buffer[1].time>10000)buffer.splice(0,1)}if(transfer.count>9||loadTime>2000){speed.instant=(buffer[buffer.length-1].loaded-buffer[0].loaded)/((time-buffer[0].time+comp)/1000)/125000;speed.items.push(speed.instant);speed.count+=speed.instant;if(speed.items.length>6){speed.count-=speed.items[0];speed.items.splice(0,1)}speed.avg=speed.count/speed.items.length;speed.avgItems.push(speed.avg);speed.avgCount+=speed.avg;if(speed.avgItems.length>6){speed.avgCount-=speed.avgItems[0];speed.avgItems.splice(0,1)}speed.average=speed.avgCount/speed.avgItems.length;speed.averageMax=speed.average>speed.averageMax?speed.average:speed.averageMax;speed.fixed=fixNumber(speed.average,speed.average<1?2:1);if(!last||transfer.transferred){if(progressTime<300)consoleLog("speed: "+consoleSpeed(speed.average,speed.averageMax)+"mbps, time: "+consoleTime(loadTime)+"s, loaded: "+loadedData(measures.loaded)+", transferred: "+transferredData(transfer.transferred),true);doneRequests.update();elem.gauge.method("updateNumber",{number:speed.fixed})}if(count%4==0&&!last)elem.gauge.method("updateIcon",{speedRate:speed.average});count++}prev.loaded=measures.loaded;prev.time=time}function start(){transfer={count:0,transferred:0};speed={instant:0,items:[],count:0,average:0,avgItems:[],avgCount:0,averageMax:0};buffer=[{loaded:0,time:loadStartTime}];prev={loaded:0,time:0};comp="upload"==runType?100:-100;count=0;intervalId=setInterval(callback,100);interval.started=true}function stop(){if(interval.started){callback(true);clearInterval(intervalId);interval.started=false}}return{started:false,start,stop}}();function request(props){var req={url:props.url,urlPrefix:props.urlPrefix,loaded:0,xhr:null},method="upload"==runType?-1!=props.url.indexOf("amazonaws.com")?"PUT":"POST":"GET",sign=-1!=props.url.indexOf("cheetah-test"),abort=!TestConfig.noabort,target,isActive,prevloaded,transferred;function iso8601(){return(new Date).toISOString().replace(/\.\d{3}Z$/,"Z").replace(/-|:/g,"")}function done(){if(4!=req.xhr.readyState){if(abort&&persistent)req.xhr.abort();target.onprogress=null;target.onload=null;req.xhr.onerror=null;req.xhr.ontimeout=null}req.xhr=null;measures.done+=1;measures.current-=1;measures.active-=isActive?1:0;elem.done.textContent(measures.done);elem.current.textContent(measures.current);elem.active.textContent(measures.active);if(persistent&&prevloaded>50000)send();if(0==measures.current)stopMeasures()}function onprogress(e){transferred=e.loaded-prevloaded;if(!interval.started){if(!loadStartTime)loadStartTime=timenow();consoleLog("Load start...",true);interval.start()}req.loaded+=transferred;measures.loaded+=transferred;prevloaded=e.loaded;if(!isActive){isActive=true;measures.active+=1;elem.active.textContent(measures.active)}}function send(){req.xhr=new XMLHttpRequest;req.xhr.onerror=done;req.xhr.ontimeout=done;req.xhr.responseType="blob";target="download"==runType?req.xhr:req.xhr.upload;isActive=false;prevloaded=0;target.onprogress=onprogress;target.onload=done;measures.current+=1;elem.current.textContent(measures.current);req.xhr.overrideMimeType("application/octet-stream");req.xhr.open(method,props.url+("download"==runType?props.urlPrefix+"v="+random():""),true);if(sign&&0);req.xhr.send("upload"==runType?TestConfig.uploadData:null)}req.send=send;return req}function requests(){var requestsNum=App.parseInt(TestConfig.network.requestsNum,{min:1,max:100,default:6}),urls=[],urlsLen,server,nodes,index;TestConfig.servers["custom-1"].download=TestConfig.servers["custom-1"].upload=TestConfig.network.customUrl.trim();TestConfig.network.selected.forEach((function(serverId){server=TestConfig.servers[serverId];nodes=server[runType];nodes=Array.isArray(nodes)?nodes:[nodes];nodes.forEach((function(node){if(node)urls.push(node)}))}));if(urls.length>requestsNum)urls.splice(-1*(urls.length-requestsNum));measures.requests=[];urlsLen=Math.floor(requestsNum/(urls.length||1));urls.forEach((function(url){for(index=0;index<urlsLen;index++){measures.requests.push(request({url,urlPrefix:-1==url.indexOf("?")?"?":"&"}));if(measures.requests.length==requestsNum)return}}));elem.selectedServers.textContent(TestConfig.network.selected.map((function(id){return serverName(id)})).join(", ")+" ");elem.done.textContent("0");doneRequests.update(true)}function startMeasures(){if(timenow()-actiontime<500)return;actiontime=timenow();if(measures.started){stopMeasures();return}if(0==measures.requests.length)return;measures.started=true;measures.loaded=0;measures.active=0;measures.done=0;measures.current=0;persistent=TestConfig.network.persistent;loadStartTime=0;measures.requests.forEach((function(item){item.loaded=0;item.send()}));consoleLog("Starting measures...",true);elem.stage.addClass("started");elem.done.textContent("0");doneRequests.update()}function toggleUrlMenu(){if(!elem.selectUrlMenu.find(".servers-select_list").length){var id=-1,list=[],index,item,selected;for(index in TestConfig.servers){item=TestConfig.servers[index];id++;if((item.download||item.upload||0==id)&&item.name&&false!=item.active){selected=TestConfig.network.selected.indexOf(index)>-1;list.push(createElement("div",{className:"servers-select_item flex"+(0==id?" custom":"")+(selected?" selected":""),"data-id":index},createElement("button",{className:"servers-select_single-button flex align-center",onclick:selectUrl},createElement("div",{className:"servers-select_check-icon flex"},svgIcon("checked")),0!=id?createElement("div",{className:"servers-select_name",textContent:serverName(index)}):null),0==id?createElement("div",{className:"servers-select_url flex grow-1"},createElement(elem.customUrl,{className:"servers-select_input",id:"x-"+random(),type:"text",name:"network_customUrl",placeholder:"Enter custom url...",value:TestConfig.network.customUrl,onchange:option}),createElement("button",{className:"servers-select_clear flex align-center",onclick:clearCustomUrl},svgIcon("close2"))):null,createElement("button",{className:"servers-select_multi-button multi flex align-center shrink-0",onclick:selectUrl},svgIcon("radioButton"))))}}elem.selectUrlMenu.first().render(createElement("div",{className:"servers-select_list"},list))}elem.selectUrlMenu.toggle()}function toggleDoneMenu(){elem.doneMenu.toggle()}function selectUrl(props){var item=$(this).parent(),multi=$(this).hasClass("multi"),selected=item.hasClass("selected"),id=item.attr("data-id");if(selected&&1==TestConfig.network.selected.length)return;if(multi&&!selected&&6==TestConfig.network.selected.length)return;if(!multi){TestConfig.network.selected=[id];item.parent().childs().forEach((function(item){item[item.attr("data-id")==id?"addClass":"removeClass"]("selected")}))}else if(selected){TestConfig.network.selected.splice(TestConfig.network.selected.indexOf(id),1);item.removeClass("selected")}else{TestConfig.network.selected.push(id);item.addClass("selected")}storage.network_selected=TestConfig.network.selected.join(", ");requests()}function clearCustomUrl(){elem.customUrl.value("");TestConfig.network.customUrl="";storage.network_customUrl=""}function option(e){var key=this.name.replace(/[a-z]+_/,""),value;if(false);if("requestsNum"==key||"customUrl"==key)value=this.value;else value=this.checked?"true":"";TestConfig.network[key]=value;storage[this.name]=value;if("uploadMode"==key){runType=value?"upload":"download";elem.gauge.method("loadType",{type:runType})}if("requestsNum"==key||"customUrl"==key||"uploadMode"==key)requests()}this.events={closestServer:function(){requests()}};this.onMount=function(){elem.gauge.method("loadType",{type:TestConfig.network.uploadMode?"upload":"download"})};this.render=function(){return createElement(elem.stage,{className:"stage stage-network"},createElement(elem.start,{className:"stage-options flex"},createElement("div",{className:"stage-options_section relative"},createElement("button",{className:"start-button loader stage-loader flex center",onclick:startMeasures},createElement("span",{textContent:"start"}),createElement("span",{textContent:"stop"})),createElement("div",{className:"stage-options_notice stage-options_margin flex align-center",textContent:"Finding closest server..."})),createElement("div",{className:"stage-options_section stage-options_margin network-settings"},createElement("div",{className:"network-settings_group network-settings_type flex align-center relative"},createElement(elem.selectUrlMenu,{className:"network-settings_menu menu",style:"display: none;"},createElement("div",{className:"servers-select menu_inner select-none"}),createElement("div",{className:"menu_overlay",onclick:toggleUrlMenu})),createElement("div",{className:"network-settings_item"},createElement("button",{className:"network-settings_servers-button flex justify-between",onclick:toggleUrlMenu},createElement("b",{textContent:"Select Servers Or Url... "}),svgIcon("arrowDown"))),createElement("div",{className:"network-settings_item"},createElement(elem.requestsNum,{className:"network-settings_number-select",name:"network_requestsNum",id:"x-"+random(),onchange:option},createElement("option",{value:"",textContent:"Multi",selected:""==TestConfig.network.requestsNum}),createElement("option",{value:"1",textContent:"1",selected:"1"==TestConfig.network.requestsNum}),createElement("option",{value:"2",textContent:"2",selected:"2"==TestConfig.network.requestsNum}),createElement("option",{value:"3",textContent:"3",selected:"3"==TestConfig.network.requestsNum}),createElement("option",{value:"4",textContent:"4",selected:"4"==TestConfig.network.requestsNum}),createElement("option",{value:"5",textContent:"5",selected:"5"==TestConfig.network.requestsNum}),createElement("option",{value:"6",textContent:"6",selected:"6"==TestConfig.network.requestsNum}),createElement("option",{value:"10",textContent:"10",selected:"10"==TestConfig.network.requestsNum}),createElement("option",{value:"20",textContent:"20",selected:"20"==TestConfig.network.requestsNum})))),createElement("div",{className:"network-settings_group flex"},createElement("div",{className:"network-settings_item network-settings_type"},createElement("label",{className:"toggle-switch"},createElement(elem.persistent,{className:"toggle-switch_checkbox",name:"network_persistent",id:"x-"+random(),type:"checkbox",checked:TestConfig.network.persistent,onclick:option}),createElement("span",{className:"toggle-switch_slider"}),createElement("span",{className:"toggle-switch_text",textContent:"Persistent measures"}))),createElement("div",{className:"network-settings_item network-settings_type"},createElement("label",{className:"toggle-switch"},createElement(elem.uploadMode,{className:"toggle-switch_checkbox",name:"network_uploadMode",id:"x-"+random(),type:"checkbox",checked:TestConfig.network.uploadMode,onclick:option}),createElement("span",{className:"toggle-switch_slider"}),createElement("span",{className:"toggle-switch_text",textContent:"Upload mode"}))),createElement("div",{className:"network-settings_item"},createElement("label",{className:"toggle-switch"},createElement(elem.savePreferences,{className:"toggle-switch_checkbox",name:"network_savePreferences",id:"x-"+random(),type:"checkbox",checked:TestConfig.network.savePreferences,onclick:option}),createElement("span",{className:"toggle-switch_slider"}),createElement("span",{className:"toggle-switch_text",textContent:"Save preferences"})))),createElement("div",{className:"network-settings_group"},createElement("div",{className:"network-settings_item network-settings_meta flex align-center"},svgIcon("user"),createElement("div",{className:"network-settings_text meta-isp",textContent:"- -"})),createElement("div",{className:"network-settings_item network-settings_meta flex align-center"},svgIcon("info"),createElement(elem.selectedServers,{className:"network-settings_text",textContent:"- -"}))))),createElement("div",{className:"network-section"},createElement("div",{className:"network-measures grow-1"},createElement("div",{className:"network-measures_heading flex relative"},createElement(elem.doneMenu,{className:"network-measures_menu menu",style:"display: none;"},createElement("div",{className:"network-measures_requests menu_inner flex"},createElement(elem.doneUrls,{className:"network-measures_requests-urls"}),createElement(elem.doneLoaded,{className:"network-measures_requests-loaded",id:"x-"+random(),readonly:""})),createElement("div",{className:"menu_overlay",onclick:toggleDoneMenu})),createElement("button",{className:"network-measures_item",textContent:"Done requests: ",onclick:toggleDoneMenu},createElement(elem.done,{textContent:0})),createElement("div",{className:"network-measures_item",textContent:"Current requests: "},createElement(elem.current,{textContent:0})),createElement("div",{className:"network-measures_item",textContent:"Active requests: "},createElement(elem.active,{textContent:0}))),createElement("div",{className:"network-measures_console relative"},createElement("button",{className:"console-button",style:"right: "+App.scrollWidth+"px;",ariaLabel:App.lang.$21,title:App.lang.$21,onclick:consoleScroll}),createElement(elem.console,{className:"console",id:"x-"+random(),readonly:"",spellcheck:"false",wrap:"off"}))),createElement("div",{className:"network-engine"},createElement(elem.gauge))))}}const js_NetworkStage=NetworkStage;function EngineButton(props){var action=false,text=1==props.action?App.lang.$3:App.lang.$4,size=1==props.action?App.lang.S3:App.lang.S4;function buttonClick(){if(action)return;action=true;App.event("startTest")}this.render=function(){return createElement("button",{className:"engine-button"+(2==props.action?" engine-button_again":""),ariaLabel:text,onclick:buttonClick},createElement("svg",{class:"engine-button_text",viewBox:"0 0 100 100"},createElement("text",{x:"50%",y:"50%","text-anchor":"middle","dominant-baseline":"central","font-size":size},text)),createElement("div",{className:"engine-button_border"}),1==props.action?createElement("div",{className:"engine-button_animated-border"}):null,createElement("div",{className:"engine-button_background"}))}}const js_EngineButton=EngineButton;function TestStage(props){var elem={stage:createElement("div"),main:createElement("div"),closeButton:createElement("button"),engine:createElement("div"),results:createElement("section"),ping:createElement("span"),jitter:createElement("span"),downloadResult:createElement("div"),downloadNumber:createElement("div"),uploadResult:createElement("div"),uploadNumber:createElement("div"),console:createElement("textarea"),serverName:createElement("div"),isp:createElement("div"),ip:createElement("div"),serversMenu:createElement("div")},timenow=Date.now,random=App.random,fixNumber=App.fixNumber,transferredData=App.transferred,loadedData=App.loaded,consoleTime=App.consoleTime,consoleSpeed=App.consoleSpeed,max=Math.max,round=Math.round,floor=Math.floor,ceil=Math.ceil,storage=localStorage,shouldStartPing=false,closingStage=false,connections={requests:[],preconnect:[],count:0,loaded:0},pingers={},consoleLines=[],performance=window.performance,loadStartTime,server,runType,graph,interval,timeout;function consoleScroll(){elem.console.scrollTop(elem.console.scrollHeight())}function consoleLog(data,logState){var scrollHeight=elem.console.scrollHeight(),scrollTop=elem.console.scrollTop(),elemHeight=elem.console.offsetHeight(),scrollIsDown=scrollTop>scrollHeight-elemHeight-10;if(scrollIsDown||consoleLines.length<350){if(logState)data="["+runType+"] "+data;consoleLines.push(data);if(consoleLines.length>350)consoleLines.splice(0,1);elem.console.value(consoleLines.join("\n"));if(scrollIsDown)consoleScroll()}}function consoleClear(){consoleLines=[];elem.console.value("")}function serverName(id){var server=TestConfig.servers[id];return server.name+(server.provider?" - "+server.provider:"")}function pinger(props){var xhr,ws,timing,remainder,len,ping,delayTimeout,receive,send,opened,measure,results=true,cfPage=$("#cfPage")[0];function sendMessage(data){cfPage.contentWindow.postMessage(data,"*")}function finished(){opened=false;if(receive){sendMessage({message:"ping:finish"});window.removeEventListener("message",receive)}if(xhr)xhr.abort();if(ws){ws.onclose=null;ws.close()}clearTimeout(delayTimeout);if(results){if(ping.results>0){ping.medItems.sort((function(a,b){return a-b}));remainder=ping.medItems.length%2;len=(ping.medItems.length-remainder)/2;if(0==remainder)ping.med=round((ping.medItems[len]+ping.medItems[len-1])/2);else ping.med=ping.medItems[len];ping.val=ping.medItems[floor(ping.medItems.length/4)]}if(ping.results>1){ping.jitterItems.sort((function(a,b){return a-b}));remainder=ping.jitterItems.length%2;len=(ping.jitterItems.length-remainder)/2;if(0==remainder)ping.jitter=round((ping.jitterItems[len]+ping.jitterItems[len-1])/2);else ping.jitter=ping.jitterItems[len]}props.done({min:ping.min,val:ping.val,med:ping.med,jitter:ping.jitter})}}function handlePing(){ping.results++;if(ping.time<ping.min||null==ping.min)ping.min=ping.time;ping.medItems.push(ping.time);if(ping.results>1)ping.jitterItems.push(ping.time>ping.prevtime?ping.time-ping.prevtime:ping.prevtime-ping.time);ping.prevtime=ping.time;if((15==ping.results||timenow()-ping.startedTime>4000)&&ping.results>5){finished();return false}return true}function xhrping(){send=function send(){if(false!=props.clearTimings)performance.clearResourceTimings();xhr=new XMLHttpRequest;xhr.onload=function(){if(200!=xhr.status){finished();return}if(1==ping.sent){opened=true;init();return}ping.time=ping.request=timenow()-ping.sentTime;if(timing=performance.getEntriesByName(xhr.responseURL)[0]){ping.timing=round((timing.responseStart||timing.responseEnd)-(timing.requestStart||timing.fetchStart));if(false);if((timing.serverTiming||{}).length)ping.timing-=round(max.apply(null,timing.serverTiming.map((function(item){return item.duration}))));ping.time=ping.timing>0?ping.timing:0}delayTimeout=setTimeout((function(){if(handlePing())send()}),max(100-ping.request,1))};xhr.timeout=12000;xhr.onerror=finished;xhr.ontimeout=finished;xhr.open(ping.method,ping.url+ping.prefix+"v="+random(),true);xhr.send();ping.sentTime=timenow();ping.sent++};send()}function frameping(){send=function send(){ping.sent+=1;sendMessage({message:"ping:send",method:ping.method,url:ping.url+ping.prefix+"v="+random()})};receive=function(e){var data=e.data?e.data:{};if("ping:time"==data.message){if(1==ping.sent){opened=true;init();return}ping.time=data.time;timeout=setTimeout((function(){if(handlePing())send()}),max(100-data.request,1))}if("ping:finish"==data.message)finished()};window.addEventListener("message",receive);send()}function wsping(){ws=new WebSocket(ping.wsurl);send=function send(){ping.sent++;ws.send("PING ");ping.sentTime=timenow()};ws.onopen=function(){opened=true;init()};ws.onmessage=function(){ping.time=timenow()-ping.sentTime;delayTimeout=setTimeout((function(){if(handlePing())send()}),max(100-ping.time,0))};ws.onerror=finished;ws.onclose=finished}function init(){if(measure&&opened){ping.startedTime=timenow();send()}}function start(){measure=true;init()}function stop(){results=false;finished()}ping={url:props.server.xping||props.server.ping||"",wsurl:props.server.wsping,sent:0,ping:0,prev:0,results:0,min:null,val:null,med:null,jitter:null,medItems:[],jitterItems:[]};ping.method=-1==ping.url.indexOf("nohead")?"HEAD":"GET";ping.prefix=-1==ping.url.indexOf("?")?"?":"&";if(props.server.wsPrefer&&ping.wsurl&&false!=props.ws)wsping();else if(ping.url)"cf-2"!=props.server.id?xhrping():frameping();else finished();return{start,stop}}function testStatus(config){if(void 0!=config.started)TestConfig.started=config.started;if(void 0!=config.opened)TestConfig.opened=config.opened;if(void 0!=config.runType)runType=config.runType;elem.stage.attr("class","stage stage-test"+" test--"+("1"!=TestConfig.connections.value?"multi":"single")+(TestConfig.opened?" test--opened":"")+(TestConfig.started?" test--started":"")+("none"!=runType?" test--"+runType:""))}function stopTest(){clearTimeout(timeout);connections.requests.forEach((function(req){req.xhr&&req.xhr.abort()}));connections.preconnect.forEach((function(req){req.abort()}));interval.stop()}function clearResults(){elem.results.find(".test-results_time, .test-results_speed").textContent("- -");elem.results.find("polygon, polyline").attr("points","");consoleClear();consoleLog("Starting test...")}function finishTest(){testStatus({started:false,runType:"none"});App.event("testFinished");elem.engine.addClass("test-engine_close");timeout=setTimeout((function(){elem.engine.render(createElement(js_EngineButton,{textContent:App.lang.$4,action:2}));timeout=setTimeout((function(){elem.engine.removeClass("test-engine_open test-engine_close")}),500)}),625)}function progressEnd(){timeout=setTimeout((function(){if(false!=TestConfig.finish)elem.gauge.method("clear");timeout=setTimeout((function(){if("download"==runType&&"1"==TestConfig.mode){testStatus({runType:"upload"});elem.gauge.method("loadType",{type:"upload"});App.event("loadTest")}else if(false!=TestConfig.finish)finishTest()}),600)}),500)}function breakTest(){stopTest();graph.expand();consoleLog("Measures error",true);progressEnd()}graph=function(){var graphElem,chart,line,points,pointMax,maxTime,updateEach,chartPoints,height,width,index,item,len,point,pointX,pointY,averageItems,averageCount;function attr(){chart.attr("points","0,"+height+" "+"0,"+points[0].y+" "+chartPoints.join(" ")+" "+pointX+","+height);line.attr("points",pointX+","+pointY+" "+width+","+pointY)}function draw(point,intervalTime,count){if(intervalTime>maxTime)maxTime=intervalTime;if(point>pointMax){pointMax=point;for(index=0,len=points.length;index<len;index++){item=points[index];item.y=(height-item.value/(pointMax||1)*height).toFixed(2);chartPoints[index]=item.x+","+item.y}}pointX=(width*(intervalTime/maxTime)).toFixed(2);pointY=(height-point/(pointMax||1)*height).toFixed(2);if(count%updateEach==0){points.push({value:point,x:pointX,y:pointY});chartPoints.push(pointX+","+pointY)}else{points[points.length-1]={value:point,x:pointX,y:pointY};chartPoints[chartPoints.length-1]=pointX+","+pointY}attr()}function expand(){if(points.length){for(index=0,len=points.length;index<len;index++){pointX=((index+1)*(width/len)).toFixed(2);pointY=points[index].y;chartPoints[index]=pointX+","+pointY}attr()}}function init(){graphElem=("download"==runType?elem.downloadResult:elem.uploadResult).find(".graph");chart=graphElem.find(".chart");line=graphElem.find(".line");averageItems=[];averageCount=0;points=[];pointMax=0;chartPoints=[];width=185;height=45;maxTime=TestConfig.runTime;updateEach=ceil(TestConfig.runTime/TestConfig.hearbeatTime/190)}return{init,draw,expand}}();interval=function(){var speedNumberElem,time,intervalTime,intervalStartedTime,loadTime,transferred,loaded,intervalId,prev,buffer,speed,comp,count;function callback(last){time=timenow();loadTime=time-loadStartTime;intervalTime=time-intervalStartedTime;loaded=connections.loaded;transferred=loaded-prev.loaded;if(transferred){buffer.push({loaded,time});if(buffer[buffer.length-1].time-buffer[1].time>6000)buffer.splice(0,1)}speed.instant=loaded/((loadTime+comp)/1000)/125000;speed.items.push(speed.instant);speed.count+=speed.instant;if(speed.items.length>8){speed.count-=speed.items[0];speed.items.splice(0,1)}speed.avg=speed.count/speed.items.length;speed.avgItems.push(speed.avg);speed.avgCount+=speed.avg;if(speed.avgItems.length>8){speed.avgCount-=speed.avgItems[0];speed.avgItems.splice(0,1)}speed.average=speed.avgCount/speed.avgItems.length;if(speed.instant>speed.instantMax)speed.instantMax=speed.instant;if(speed.average>speed.averageMax)speed.averageMax=speed.average;speed.rate=speed[speed.output];speed.fixed=fixNumber(speed.rate,speed.rate<1?2:1);if(!last||transferred){consoleLog("instant: "+consoleSpeed(speed.instant,speed.instantMax)+"mbps, average: "+consoleSpeed(speed.average,speed.averageMax)+"mbps, time: "+consoleTime(loadTime)+"s, loaded: "+loadedData(loaded)+", transf: "+transferredData(transferred),true);speedNumberElem.textContent(speed.fixed);elem.gauge.method("updateNumber",{number:speed.fixed})}graph.draw(speed.rate,intervalTime,count);if(count%5==0&&!last)elem.gauge.method("updateIcon",{speedRate:speed.rate});prev.loaded=loaded;count++}function stop(){interval.started=false;clearInterval(intervalId)}function start(){interval.started=true;buffer=[{loaded:0,time:loadStartTime}];loadTime=timenow()-loadStartTime;clearTimeout(timeout);timeout=setTimeout((function(){intervalStartedTime=timenow();intervalId=setInterval(callback,TestConfig.hearbeatTime);timeout=setTimeout((function(){callback(true);connections.requests.forEach((function(req,index){consoleLog("request "+(index+1)+" loaded: "+loadedData(req.loaded),true)}));consoleLog("loaded: "+loadedData(loaded)+", final speed: "+fixNumber(speed.instant,2)+"mbps, buffer speed: "+fixNumber((buffer[buffer.length-1].loaded-buffer[0].loaded)/((time-buffer[0].time)/1000)/125000,2)+"mbps ("+(time-buffer[0].time)+"ms)",true);stopTest();progressEnd()}),TestConfig.runTime)}),max(1000-loadTime,0))}function init(){speedNumberElem="download"==runType?elem.downloadNumber:elem.uploadNumber;prev={loaded:0};speed={instant:0,instantMax:0,items:[],count:0,average:0,averageMax:0,avgItems:[],avgCount:0,max:0,output:"instant"==TestConfig.outputSpeed?"instant":"average"};comp="upload"==runType?100:-100;count=0}return{started:false,init,start,stop}}();function request(props){var req={url:props.url,urlPrefix:props.urlPrefix,preconnect:props.preconnect,preconnectPrefix:props.preconnectPrefix,loaded:0,xhr:null},method="upload"==runType?-1!=props.url.indexOf("amazonaws.com")?"PUT":"POST":"GET",progress=0,transferred,prevloaded,target;function done(){if(4!=req.xhr.readyState)req.xhr.abort();if(prevloaded>50000)send();else breakTest()}function onprogress(e){progress++;transferred=e.loaded-prevloaded;connections.loaded+=transferred;req.loaded+=transferred;if(!loadStartTime){loadStartTime=timenow();timeout=setTimeout((function(){interval.start()}),2000)}if(!interval.started&&6==progress)interval.start();if(1==progress&&props.index<connections.count)consoleLog("request "+(props.index+1)+" first transfer: "+transferredData(e.loaded)+", time: "+consoleTime(timenow()-loadStartTime),true);prevloaded=e.loaded}function send(){req.xhr=new XMLHttpRequest;req.xhr.ontimeout=done;req.xhr.onerror=done;req.xhr.responseType="blob";target="download"==runType?req.xhr:req.xhr.upload;prevloaded=0;target.onprogress=onprogress;target.onload=done;req.xhr.overrideMimeType("application/octet-stream");req.xhr.open(method,props.url+("download"==runType?props.urlPrefix+"v="+random():""),true);req.xhr.send("upload"==runType?TestConfig.uploadData:null)}req.send=send;return req}function closeStage(){if(!closingStage){closingStage=true;pingers.main&&pingers.main.stop();stopTest();elem.main.style({opacity:0,pointerEvents:"none"});setTimeout((function(){testStatus({started:false,opened:false,runType:"none"});elem.engine.removeClass("test-engine_open test-engine_close");elem.engine.render(createElement(js_EngineButton,{action:1}));consoleClear();consoleLog(App.lang.$10);App.event("testFinished");elem.main.style({opacity:1,pointerEvents:""});closingStage=false}),300)}}function preconnect(requests,callback){var done=0,success=0;if("download"!=runType){timeout=setTimeout((function(){callback()}),100);return}requests.forEach((function(item){var xhr=new XMLHttpRequest;function handle(){done+=1;if(timenow()-xhr.sendTime<12000)success+=1;if(done==connections.preconnect.length){if(0==success){breakTest();return}timeout=setTimeout((function(){callback()}),100)}}xhr.onload=handle;xhr.onerror=handle;xhr.ontimeout=handle;xhr.timeout=12500;xhr.open(item.preconnect?"GET":"HEAD",(item.preconnect||item.url)+(item.preconnect?item.preconnectPrefix:item.urlPrefix)+"v="+random(),true);xhr.send();xhr.sendTime=timenow();connections.preconnect.push(xhr)}))}function toggleServersMenu(){if(!elem.serversMenu.find(".servers-select_list").length){var list=[],index,item,selected;for(index in TestConfig.servers){item=TestConfig.servers[index];if((item.download&&item.upload&&(item.ping||item.xping||item.wsping)||item.cdn)&&false!=item.active){selected=TestConfig.selected==index?" selected":"";list.push(createElement("div",{className:"servers-select_item flex"+selected,"data-id":index},createElement("button",{className:"servers-select_single-button flex align-center",onclick:selectServer},createElement("div",{className:"servers-select_check-icon flex"},svgIcon("checked")),createElement("div",{className:"servers-select_name",textContent:serverName(index)}))))}}elem.serversMenu.first().render(createElement("div",{className:"servers-select_list"},list))}elem.serversMenu.toggle()}function selectServer(){var item=$(this).parent(),id=item.attr("data-id");if(id!=TestConfig.selected){TestConfig.selected=id;item.parent().childs().forEach((function(item){item[item.attr("data-id")==id?"addClass":"removeClass"]("selected")}));elem.serverName.textContent(serverName(id));if(TestConfig.opened)closeStage()}toggleServersMenu()}this.events={startTest:function(){TestConfig.runTime=1000*App.parseInt($("#testTime").value(),{min:1,max:60,default:12});TestConfig.connections.value=$("#testConnections").value();TestConfig.outputSpeed=$("#testOutputSpeed").value();TestConfig.mode=$("#testMode").value();server=TestConfig.servers[TestConfig.selected];clearResults();elem.gauge=createElement(js_Gauge,{loadType:"1"==TestConfig.mode||"2"==TestConfig.mode?"download":"upload"});pingers.main=null;shouldStartPing=false;testStatus({opened:true,started:true});App.event("pingTest");timeout=setTimeout((function(){elem.engine.render(elem.gauge);timeout=setTimeout((function(){shouldStartPing=true;App.event("pingTest")}),750)}),525);elem.engine.addClass("test-engine_open")},pingTest:function(){if(TestConfig.closestDone){if(!pingers.main)pingers.main=pinger({server,done:function(result){if(null!=result.min)elem.ping.textContent(result.min);if(null!=result.jitter)elem.jitter.textContent(result.jitter);console.log("min: "+result.min+"  val: "+result.val+"  med: "+result.med);testStatus({runType:"1"==TestConfig.mode||"2"==TestConfig.mode?"download":"upload"});App.event("loadTest")}});if(shouldStartPing)pingers.main.start()}},loadTest:function(){var nodes=server.cdn?TestConfig.servers.aaa[runType]:server[runType],preconnectUrl=server.cdn?TestConfig.servers.aaa.preconnect:server.preconnect,nodeIndex=1,node,index;nodes=Array.isArray(nodes)?nodes:[nodes];consoleLog("Starting measures...",true);interval.init();graph.init();connections={requests:[],preconnect:[],count:App.parseInt(TestConfig.connections.value,{min:1,max:6,default:TestConfig.connections["default"]}),loaded:0};loadStartTime=0;for(index=0;index<connections.count;index++){node=nodes[nodeIndex-1];connections.requests.push(request({url:node,urlPrefix:-1==node.indexOf("?")?"?":"&",preconnect:preconnectUrl,preconnectPrefix:-1==(preconnectUrl||"").indexOf("?")?"?":"&",index:connections.requests.length}));nodeIndex=nodeIndex==nodes.length?1:nodeIndex+1}preconnect(connections.requests,(function(){connections.requests.forEach((function(item){item.send()}))}))},consoleToggle:function(e){elem.console.parent().toggleClass("hidden");elem.console.scrollTop(elem.console.scrollHeight())},closestServer:function(){elem.serverName.textContent(serverName(TestConfig.selected));if(shouldStartPing)App.event("pingTest")}};this.onMount=function(){};this.render=function(){return createElement(elem.stage,{className:"stage stage-test test--"+(1!=TestConfig.connections.value?"multi":"single")},createElement(elem.main,{className:"test-main"},createElement(elem.results,{className:"test-results"},createElement(elem.closeButton,{className:"test-results_close-button",title:App.lang.$7,onclick:closeStage},svgIcon("close")),createElement("div",{className:"test-results_data flex"},createElement("div",{className:"test-results_group flex justify-between"},createElement("div",{className:"test-results_ping flex spacing-small"},createElement("div",{className:"test-results_heading flex align-center spacing-small"},svgIcon("ping"),createElement("span",{textContent:"Ping"})),createElement("div",{className:"test-results_text"},createElement(elem.ping,{className:"test-results_time"},"- -")," ms")),createElement("div",{className:"test-results_ping flex spacing-small"},createElement("div",{className:"test-results_heading flex align-center spacing-small"},svgIcon("jitter"),createElement("span",{textContent:"Jitter"})),createElement("div",{className:"test-results_text"},createElement(elem.jitter,{className:"test-results_time"},"- -")," ms"))),createElement("div",{className:"test-results_group flex grow-1"},createElement(elem.downloadResult,{className:"test-results_item test-results_download"},createElement("div",{className:"test-results_header flex align-center spacing-medium"},createElement("div",{className:"flex align-center spacing-small"},svgIcon("downlink"),createElement("span",{className:"text-bold",textContent:App.lang.$1})),createElement("span",{className:"text-holder",textContent:"Mbps"})),createElement(elem.downloadNumber,{className:"test-results_speed speed-number",textContent:"- -"}),createElement("div",{className:"test-results_graph"},svgIcon("resultGraph"))),createElement(elem.uploadResult,{className:"test-results_item test-results_upload"},createElement("div",{className:"test-results_header flex align-center spacing-medium"},createElement("div",{className:"flex align-center spacing-small"},svgIcon("uplink"),createElement("span",{className:"text-bold",textContent:App.lang.$2})),createElement("span",{className:"text-holder",textContent:"Mbps"})),createElement(elem.uploadNumber,{className:"test-results_speed speed-number",textContent:"- -"}),createElement("div",{className:"test-results_graph"},svgIcon("resultGraph")))))),createElement(elem.engine,{className:"test-engine relative"},createElement(js_EngineButton,{action:1})),createElement("div",{className:"test-console relative hidden"},createElement("button",{className:"console-button",style:"right: "+App.scrollWidth+"px;",ariaLabel:App.lang.$21,title:App.lang.$21,onclick:consoleScroll}),createElement(elem.console,{className:"console",readonly:"",spellcheck:"false",wrap:"off",value:App.lang.$10}))),createElement("footer",{className:"test-footer"},createElement("div",{className:"test-footer_item flex align-center"},createElement("div",{className:"test-footer_icon loader stage-loader flex center"},svgIcon("internet")),createElement("div",{className:"test-footer_content flex-column justify-center"},createElement(elem.serverName,{className:"test-footer_title",textContent:App.lang.$5}),createElement("div",{className:"test-servers relative"},createElement("button",{className:"test-select-server hover-underline",textContent:App.lang.$6,onclick:toggleServersMenu}),createElement(elem.serversMenu,{className:"test-servers_menu menu",style:"display: none;"},createElement("div",{className:"servers-select single menu_inner select-none"}),createElement("div",{className:"menu_overlay",onclick:toggleServersMenu}))))),createElement("div",{className:"test-footer_item flex align-center"},createElement("div",{className:"test-footer_icon flex center"},svgIcon("user")),createElement("div",{className:"test-footer_content flex-column justify-center"},createElement(elem.isp,{className:"test-footer_title meta-isp"},createElement("span",{className:"test-footer_skeleton-text"})),createElement(elem.ip,{className:"test-footer_description text-holder meta-ip"},createElement("span",{className:"test-footer_skeleton-text"}))))))}}const js_TestStage=TestStage;function PingStage(){var elem={start:createElement("div"),startButton:createElement("button"),serverName:createElement("div"),selectServer:createElement("select"),serversMenu:createElement("div"),settingsButton:createElement("button"),settingsMenu:createElement("div"),savePreferences:createElement("input"),wsping:createElement("input"),customUrl:createElement("input"),resultsNum:createElement("select"),pingItems:createElement("div")},storage=localStorage,testStarted=false,random=App.random;function serverName(id){var server=TestConfig.servers[id];return server.name+(server.provider?" - "+(server.wsprovider&&TestConfig.ping.wsping?server.wsprovider:server.provider):"")}function PingItem(){var elem={pingItem:createElement("div"),minValue:createElement("b"),avgValue:createElement("b"),maxValue:createElement("b"),jitterValue:createElement("b"),graphInner:createElement("div"),graphTooltip:createElement("div"),graphTooltipItem:createElement("div"),graphTooltipValue:createElement("div"),lineWrapper:createElement("svg"),graphLine:createElement("polyline")},graphItems,ping={time:0,count:0,prevTime:0,min:1/0,max:0,avg:0,jitter:0,avgItems:[],jitterItems:[]},measures={results:App.parseInt(TestConfig.ping.resultsNum,{min:1,max:1000,default:"x"}),server:TestConfig.servers[TestConfig.ping.selected],started:false,startedTime:0,sendTime:0,sendCount:0,connection:null},timenow=Date.now,random=App.random,max=Math.max,round=Math.round,performance=window.performance,receive=null,cfPage=$("#cfPage")[0],graph,tooltipIndex,mousePosX,timing,timeout;function finishMeasures(){if(measures.started){clearTimeout(timeout);if(receive){sendMessage({message:"ping:finish"});window.removeEventListener("message",receive)}if(measures.connection)"xhr"==measures.connectionType?measures.connection.abort():(measures.connection.onclose=null,measures.connection.close());App.event("pingTestFinished");measures.started=false}}function updateGraphTooltip(){if(tooltipIndex){elem.graphTooltipItem.textContent(tooltipIndex);elem.graphTooltipValue.textContent("ping: "+graph.values[parseInt(tooltipIndex)-1]+" ms")}var parentPos=elem.graphInner[0].getBoundingClientRect(),tooltipWidth=elem.graphTooltip.width(),posX=mousePosX-parentPos.left+20;if(mousePosX>parentPos.right-(tooltipWidth+30))posX=mousePosX-parentPos.left-tooltipWidth-20;elem.graphTooltip.style({left:posX+"px"})}function sendMessage(data){cfPage.contentWindow.postMessage(data,"*")}graph=function(){var maxValue=50,viewWidth=640,viewHeight=140-25,pointWidth=viewWidth/TestConfig.ping.graphItems.length,chartPoints,index,len,item,pointX,pointY;function draw(value){if(!isNaN(value)){graph.values.push(value);if(graph.values.length>100)graph.values.splice(0,50);maxValue=max(50,max.apply(null,graph.values))}chartPoints="";len=graph.values.length;for(index=0;index<len;index++){item=graph.values[index];pointX=round(10*(pointWidth*index+pointWidth/2))/10;pointY=round(10*(viewHeight-item/maxValue*viewHeight))/10;if(0==index)pointX-=0.5;if(index==len-1)pointX+=0.5;chartPoints+=pointX+","+pointY+" "}elem.graphLine.attr("points",chartPoints)}return{draw,values:[]}}();function calcMed(values,divider){var sorted=values.concat().sort((function(a,b){return a-b})),len=values.length,remainder=len%divider;if(0==remainder)return(sorted[len/divider]+sorted[len/divider-1])/2;else return sorted[(len-remainder)/divider]}function calcAvg(values){var items=values.concat().sort((function(a,b){return a-b})),len=items.length,range=(len+len%2)/2,start=(len-len%4)/4,count=0,i;if(len>2)items=items.slice(start,start+range);for(i=0,len=items.length;i<len;i++)count+=items[i];return count/len}function handlePing(){ping.count+=1;if(ping.time<ping.min)ping.min=ping.time;if(ping.time>ping.max)ping.max=ping.time;ping.avgItems.push(ping.time);if(ping.avgItems.length>100)ping.avgItems.splice(0,1);ping.avg=calcAvg(ping.avgItems);if(ping.count>1){ping.jitterItems.push(ping.time>ping.prevTime?ping.time-ping.prevTime:ping.prevTime-ping.time);if(ping.jitterItems.length>100)ping.jitterItems.splice(0,1);ping.jitter=calcAvg(ping.jitterItems)}elem.minValue.textContent(ping.min);elem.avgValue.textContent(ping.avg.toFixed(1));elem.maxValue.textContent(ping.max);elem.jitterValue.textContent(ping.jitter.toFixed(1));ping.prevTime=ping.time;graph.draw(ping.time);updateGraphTooltip();if(ping.count==measures.results){finishMeasures();return false}return true}function xhrping(){var xhr=new XMLHttpRequest;performance.clearResourceTimings();function handle(){if(200!=xhr.status){finishMeasures();return}if(1==measures.sendCount){xhrping();return}ping.time=ping.request=timenow()-measures.sendTime;if(timing=performance.getEntriesByName(xhr.responseURL)[0]){if(false);ping.timing=round((timing.responseStart||timing.responseEnd)-(timing.requestStart||timing.fetchStart));if((timing.serverTiming||{}).length)ping.timing-=round(max.apply(null,timing.serverTiming.map((function(item){return item.duration}))));ping.time=ping.timing>0?ping.timing:0}timeout=setTimeout((function(){if(handlePing())xhrping()}),max(100-ping.request,1))}xhr.onload=handle;xhr.onerror=finishMeasures;xhr.ontimeout=finishMeasures;measures.connection=xhr;xhr.open(measures.method,measures.url+measures.prefix+"v="+random(),true);xhr.send();if(measures.sendCount<=2)measures.startedTime=timenow();measures.sendCount+=1;measures.sendTime=timenow()}function frameping(){function send(){measures.sendCount+=1;sendMessage({message:"ping:send",method:measures.method,url:measures.url+measures.prefix+"v="+random()})}receive=function(e){var data=e.data?e.data:{};if("ping:time"==data.message){if(1==measures.sendCount){send();return}ping.time=data.time;timeout=setTimeout((function(){if(handlePing())send()}),max(100-data.request,1))}if("ping:finish"==data.message)finishMeasures()};window.addEventListener("message",receive);send()}function wsping(){var ws=new WebSocket(measures.server.wsping);function send(){ws.send("PING ");measures.sendTime=timenow()}ws.onopen=function(){measures.startedTime=timenow();send()};ws.onmessage=function(e){ping.time=timenow()-measures.sendTime;timeout=setTimeout((function(){if(handlePing())send()}),max(100-ping.time,1))};ws.onerror=finishMeasures;ws.onclose=finishMeasures;measures.connection=ws}function graphMouseMove(e){elem.graphTooltip.removeClass("unseen-u");tooltipIndex=e.target.getAttribute("index");mousePosX=e.clientX;updateGraphTooltip()}function graphMouseOut(){elem.graphTooltip.addClass("unseen-u")}function deleteResult(){elem.pingItem.addClass("close");setTimeout((function(){finishMeasures();elem.pingItem.remove()}),300)}function startMeasures(){measures.started=true;measures.startedTime=timenow();if("ws"==measures.connectionType)wsping();else"cf-2"!=measures.server.id?xhrping():frameping()}if(TestConfig.ping.wsping&&measures.server.wsping){measures.url=measures.server.wsping;measures.connectionType="ws"}else{measures.url=measures.server.ping;measures.prefix=-1==measures.url.indexOf("?")?"?":"&";measures.method=-1!=measures.url.indexOf("nohead")?"GET":"HEAD";measures.connectionType="xhr"}measures.serverProtocol=(measures.url.match(/([a-z]+)\:\/\//)||{})[1];this.onMount=function(){startMeasures()};this.render=function(){return createElement(elem.pingItem,{className:"ping-result"},createElement("div",{className:"ping-result_meta relative"},createElement("button",{className:"ping-result_close-button",title:"Delete result",onclick:deleteResult},svgIcon("close")),createElement("div",{className:"ping-result_server-meta"},createElement("span",{className:"ping-result_server-protocol"},measures.serverProtocol),measures.server.showName||serverName(TestConfig.ping.selected)),createElement("div",{className:"ping-result_measures"},createElement("div",{className:"ping-result_time"},"min: ",createElement(elem.minValue,{},"--")," ms"),createElement("div",{className:"ping-result_time"},"avg: ",createElement(elem.avgValue,{},"--")," ms"),createElement("div",{className:"ping-result_time"},"max: ",createElement(elem.maxValue,{},"--")," ms"),createElement("div",{className:"ping-result_time"},"jitter: ",createElement(elem.jitterValue,{},"--")," ms"))),createElement("div",{className:"ping-graph grow-1"},createElement(elem.graphInner,{className:"ping-graph_inner relative",onmousemove:graphMouseMove,onmouseout:graphMouseOut},createElement("div",{className:"ping-graph_items flex"},TestConfig.ping.graphItems.map((function(item,index){index+=1;return createElement("div",TestConfig.ping.graphItemsVisible.indexOf(index)>-1?{index,a:""}:{index})}))),createElement(elem.lineWrapper,{class:"ping-graph_line",viewBox:"0 0 640 140",preserveAspectRatio:"none"},createElement(elem.graphLine,{points:""})),createElement(elem.graphTooltip,{className:"ping-graph_tooltip unseen-u"},createElement(elem.graphTooltipItem,{className:"ping-graph_tooltip-index",textContent:"0"}),createElement(elem.graphTooltipValue,{className:"ping-graph_tooltip-value",textContent:"ping: undefined ms"})))))}}function extractHostname(url){var hostname;if("string"!=typeof url)return"";if(url.indexOf("//")>-1)hostname=url.split("/")[2];else hostname=url.split("/")[0];hostname=hostname.split(":")[0];hostname=hostname.split("?")[0];return hostname}function testFinished(){elem.start.removeClass("disabled");testStarted=false}function startTest(){if(testStarted)return;var server=TestConfig.servers[TestConfig.ping.selected],custom=TestConfig.servers["custom-2"],customUrl=TestConfig.ping.customUrl.trim();custom.showName=extractHostname(customUrl);if(customUrl.match("wss?://"))custom.wsping=customUrl;else{custom.wsping="";custom.ping=customUrl}if(server.ping||TestConfig.ping.wsping&&server.wsping){if(10==elem.pingItems.childs().length)elem.pingItems.last().remove();elem.pingItems.prepend(createElement(PingItem));elem.start.addClass("disabled");testStarted=true}}function toggleSettingsMenu(){elem.settingsMenu.toggle()}function toggleServersMenu(){if(!elem.serversMenu.find(".servers-select_list").length){var list=[],index,item,selected;for(index in TestConfig.servers){item=TestConfig.servers[index];if((item.ping||item.wsping||"custom-2"==item.id)&&false!=item.active){selected=TestConfig.ping.selected==index?" selected":"";list.push(createElement("div",{className:"servers-select_item flex"+selected,"data-id":index},createElement("button",{className:"servers-select_single-button flex align-center",onclick:selectServer},createElement("div",{className:"servers-select_check-icon flex"},svgIcon("checked")),createElement("div",{className:"servers-select_name",textContent:serverName(index)}))))}}elem.serversMenu.first().render(createElement("div",{className:"servers-select_list"},list))}elem.serversMenu.toggle()}function clearCustomUrl(){elem.customUrl.value("");TestConfig.ping.customUrl="";storage.ping_customUrl=""}function option(){var key=this.name.replace(/[a-z]+_/,""),value;if("resultsNum"==key||"customUrl"==key)value=this.value;else value=this.checked?"true":"";TestConfig.ping[key]=value;storage[this.name]=value;if("wsping"==key){elem.serversMenu.find(".servers-select_list").childs().each((function(item,index){index=item.attr("data-id");item.find(".servers-select_name").textContent(serverName(index))}));elem.serverName.textContent(serverName(TestConfig.ping.selected))}}function selectServer(){var item=$(this).parent(),id=item.attr("data-id");if(id!=TestConfig.ping.selected){TestConfig.ping.selected=id;storage.ping_selected=id;item.parent().childs().each((function(item){item[item.attr("data-id")==id?"addClass":"removeClass"]("selected")}));elem.serverName.textContent(serverName(id))}toggleServersMenu()}this.events={pingTestFinished:testFinished,closestServer:function(){elem.serverName.textContent(serverName(TestConfig.ping.selected))}};this.onMount=function(){elem.resultsNum.value(TestConfig.ping.resultsNum)};this.render=function(){return createElement("div",{className:"stage stage-ping"},createElement(elem.start,{className:"stage-options flex"},createElement("div",{className:"stage-options_section flex relative"},createElement(elem.startButton,{className:"start-button loader stage-loader flex center",onclick:startTest},createElement("span",{textContent:"start"})),createElement("div",{className:"stage-options_notice stage-options_margin flex align-center",textContent:"Finding closest server..."})),createElement("div",{className:"stage-options_section stage-options_margin flex-column justify-center"},createElement(elem.serverName,{className:"stage-options_name"}),createElement("div",{className:"ping-options flex align-center"},createElement("div",{className:"ping_change-server relative"},createElement("button",{className:"ping_server-button",textContent:App.lang.$6,onclick:toggleServersMenu}),createElement(elem.serversMenu,{className:"ping_servers-menu menu",style:"display: none;"},createElement("div",{className:"servers-select single menu_inner select-none"}),createElement("div",{className:"menu_overlay",onclick:toggleServersMenu}))),createElement("div",{className:"ping-settings relative"},createElement(elem.settingsButton,{className:"ping-settings_menu-button",ariaLabel:App.lang.$20,title:App.lang.$20,onclick:toggleSettingsMenu},svgIcon("settings")),createElement(elem.settingsMenu,{className:"ping-settings_menu menu",style:"display: none;"},createElement("div",{className:"menu_inner"},createElement("div",{className:"menu_item flex align-center justify-between"},createElement("span",{textContent:"Results:"}),createElement(elem.resultsNum,{id:"x-"+random(),name:"ping_resultsNum",onchange:option},createElement("option",{value:"10",textContent:"10"}),createElement("option",{value:"25",textContent:"25"}),createElement("option",{value:"50",textContent:"50"}),createElement("option",{value:"100",textContent:"100"}),createElement("option",{value:"200",textContent:"200"}),createElement("option",{value:"300",textContent:"300"}),createElement("option",{value:"500",textContent:"500"}),createElement("option",{value:"1000",textContent:"1000"}),createElement("option",{value:"infinity",textContent:"Alive"}))),createElement("div",{className:"menu_item flex align-center justify-between"},createElement("span",{textContent:"WS Ping:"}),createElement(elem.wsping,{id:"x-"+random(),name:"ping_wsping",type:"checkbox",checked:TestConfig.ping.wsping,onchange:option})),createElement("div",{className:"menu_item flex align-center justify-between"},createElement("span",{textContent:"Save preferences:"}),createElement(elem.savePreferences,{id:"x-"+random(),name:"ping_savePreferences",type:"checkbox",checked:TestConfig.ping.savePreferences,onchange:option})),createElement("div",{className:"menu_item"},createElement("div",{textContent:"Custom Url:"}),createElement("div",{className:"ping-settings_url flex"},createElement(elem.customUrl,{className:"ping-settings_input",id:"x-"+random(),type:"text",placeholder:"Enter custom url...",name:"ping_customUrl",value:TestConfig.ping.customUrl,onchange:option}),createElement("button",{className:"ping-settings_clear-button flex center",onclick:clearCustomUrl},svgIcon("close2"))))),createElement("div",{className:"menu_overlay",onclick:toggleSettingsMenu})))))),createElement(elem.pingItems,{className:"ping-results"}))}}const js_PingStage=PingStage;var Languages={en:{$1:"DOWNLOAD",$2:"UPLOAD",$3:"GO!",S3:"20",$4:"AGAIN",S4:"18",$5:"Finding optimal server...",$6:"Change server",$7:"Close test",$8:"Show console",$9:"Hide console",$10:"Waiting for the test to start...",$11:"Test time",$12:"Connections",$13:"Output speed",$14:"Test mode",$15:"Download & Upload",$16:"Only Download",$17:"Only Upload",$18:"Instant speed",$19:"Average speed",$20:"Settings",$21:"Go down",$22:"REFRESH",$23:"REFRESHING..."},es:{$1:"DESCARGA",$2:"SUBIDA",$3:"COMENZAR",S3:"14",$4:"DE NUEVO",S4:"15",$5:"Buscando el servidor más cercano...",$6:"Cambiar servidor",$7:"Cerrar prueba",$8:"Abrir consola",$9:"Cerrar consola",$10:"Esperando que la prueba inicie...",$11:"Duración",$12:"Conexiones",$13:"Velocidad",$14:"Modo",$15:"Descarga y Subida",$16:"Solo Descarga",$17:"Solo Subida",$18:"Instantánea (instant)",$19:"Promedio (average)",$20:"Ajustes",$21:"Ir abajo",$22:"REFRESCAR",$23:"REFRESCANDO..."}};const js_Languages=Languages;(function(window,document,min,location,history){var $window=$(window),$html=$("html"),$body=$("body"),version=(($("link[rel=stylesheet]").attr("href")||"").match(/v=([0-9]+)/)||{})[1]||"x",lang=navigator.language.slice(0,2),storage=localStorage,session=sessionStorage,maxWidth=850,minWidth=0,maxHeight=650,minHeight=600,fontSize=15,data={},xfetch={items:[],count:0,success:0,done:0},locations=TestConfig.locations,wperc,hperc,width,height;if(!session.pages){session.pages=location.href;session.index="0"}function range(val,max,min){if(val>max)val=max;if(val<min)val=min;return val}function resize(){width=range(window.innerWidth,maxWidth,minWidth);height=range(window.innerHeight,maxHeight,minHeight);wperc=width/maxWidth;wperc+=(1-wperc)/1.5;if(width<350)wperc*=width/350;hperc=height/maxHeight;$html.style({fontSize:fontSize*min(wperc,hperc)+"px"})}function registerWorker(){if("serviceWorker"in navigator&&"https:"==location.protocol&&"ispeedtest.xyz"==location.host)try{var registration=navigator.serviceWorker.register("/service-worker.js",{scope:"/"});if(registration.installing)console.log("Service worker installing");else if(registration.waiting)console.log("Service worker installed");else if(registration.active)console.log("Service worker active")}catch(error){console.error("Service Worker registration failed ",error)}}App.lang=js_Languages[lang in js_Languages?lang:"en"];App.pageView=function(){var name="view",regex,result,view;name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");regex=new RegExp("[\\?&]"+name+"=([^&#]*)");result=regex.exec(location.search);view=null===result?null:decodeURIComponent(result[1].replace(/\+/g," "));if("ping"!=view&&"network"!=view)view="test";return view};App.fontSize=function(props){var len=range(props.text.length,props.maxLen,props.minLen),lenRange,sizeRange,percent;percent=len/props.maxLen;return props.maxSize+props.maxSize*percent};$window.on("resize",resize);resize();$html.addClass((App.isMobile?"mobile":"desktop")+("localhost"==location.hostname?" is-local":""));window.addEventListener("popstate",(function(e){App.event("updateStage")}));window.addEventListener("load",(function(){if(storage.storeData)registerWorker()}));function fetchAll(props){xfetch.success=0;xfetch.done=0;xfetch.items.forEach((function(item){var itemData=storage[item.name],tryAgain=true;function send(){if(item.iframe){var iframe=document.createElement("iframe"),timeout;function remove(){document.body.removeChild(iframe);window.removeEventListener("message",onmessage);done()}function onmessage(e){if(e.data&&"pop"==e.data.message){set(e.data.pop);clearTimeout(timeout);remove()}}iframe.width="100",iframe.height="100";iframe.style="position: fixed; bottom: -200vh; opacity: 0; pointer-events: none;";iframe.src=item.url;window.addEventListener("message",onmessage);document.body.appendChild(iframe);timeout=setTimeout(remove,15000);return}App.fetch({url:item.url,type:item.type,dataType:item.dataType,timeout:10000,success,fail})}function set(res){if(res){if("string"==typeof res&&(locations[res]||{}).iata)res=locations[res].iata;data[item.name]=res;storage[item.name]=res;xfetch.success++}}function success(){set(item.success.apply(null,arguments));done()}function fail(){if(tryAgain){tryAgain=false;send()}else done()}function done(){xfetch.done++;if(xfetch.done==xfetch.count)props.done()}if(storage.storeData&&itemData&&!storage.refresh){data[item.name]=itemData;done();return}send()}));storage.refresh=""}function mount(){var urls=["init","https://net.etrality.com/isp","https://m.clear.link/geoip","http://ip-api.com/json/","https://ipapi.co/json/","https://blue-d.diagnostics.globalaccelerator.aws/api/stack","http://cdn.picasapp.com/sptest/test.data"],cheetah=TestConfig.awsRegions[0],amz={},latitude,longitude,closestServer,closestNetwork,download,upload,cloudfront,uk,index,item;function dist1(one){var primary=locations[one]||{};if(isNaN(primary.lat))return;return App.distance(latitude,longitude,primary.lat,primary.lon)}function dist2(one,two){var primary=locations[one]||{},secondary=locations[two]||{};if(isNaN(primary.lat)||isNaN(secondary.lat))return;return App.distance(primary.lat,primary.lon,secondary.lat,secondary.lon)}function getClosestServer(items){var defItem=items[0],colo,add;items.forEach((function(item){colo={lat:(locations[item.colo]||{}).lat,lon:(locations[item.colo]||{}).lon};add={lat:(locations[item.add||item.colo]||{}).lat,lon:(locations[item.add||item.colo]||{}).lon};item.distance=App.distance(latitude,longitude,colo.lat,colo.lon)+App.distance(colo.lat,colo.lon,add.lat,add.lon)+(item.dist||0)}));items=items.filter((function(item){return!isNaN(item.distance)}));items.sort((function(a,b){return a.distance-b.distance}));return items.length?items[0]:defItem}function names(servers){var loc,server;servers.forEach((function(item){server=TestConfig.servers[item.id];if("ct-3"==item.id||"ct-4"==item.id){server.name+=": "+(item.colo||"- -")+" • "+(item.colo2||"- -");return}if(loc=locations[item.colo])server.name=loc.name+" - "+server.name.replace(" Network",": "+item.colo);if(loc=locations[item.colo2])server.name+=item.colo!=item.colo2?" • "+item.colo2:""}))}function fetchDone(){data.ip=storage.meta_ip;data.isp=storage.meta_isp;data.countryCode=storage.meta_countryCode;latitude=parseFloat(storage.meta_lat);longitude=parseFloat(storage.meta_lon);if(dist2(data.cloudflare,data.aws)<300&&dist2(data.cloudflare,data.cloudfront)<300){latitude=(locations[data.cloudflare]||{}).lat||latitude;longitude=(locations[data.cloudflare]||{}).lon||longitude}if(!isNaN(latitude)){for(index in TestConfig.servers){item=TestConfig.servers[index];if("number"==typeof item.lat)item.distance=App.distance(latitude,longitude,item.lat,item.lon)}TestConfig.servers=Object.values(TestConfig.servers).sort((function(a,b){return a.distance-b.distance})).reduce((function(obj,item){obj[item.id]=item;return obj}),{})}amz.lat=(locations[data.aws]||{}).lat||latitude;amz.lon=(locations[data.aws]||{}).lon||longitude;if("number"==typeof amz.lat){TestConfig.awsRegions.forEach((function(item){item.distance=App.distance(amz.lat,amz.lon,item.lat,item.lon)}));TestConfig.awsRegions.sort((function(a,b){return a.distance-b.distance}))}amz.lat=(locations[data.cloudfront]||{}).lat||amz.lat;amz.lon=(locations[data.cloudfront]||{}).lon||amz.lon;if("number"==typeof amz.lat)cheetah=TestConfig.awsRegions.filter((function(item){return item.upload})).map((function(item){item.distance=App.distance(amz.lat,amz.lon,item.lat,item.lon);return item})).sort((function(a,b){return a.distance-b.distance}))[0];TestConfig.servers["ct-1"].upload="https://"+cheetah.upload;uk=getClosestServer([{id:"uk-1",colo:data.uk1},{id:"uk-2",colo:data.uk2},{id:"uk-3",colo:data.uk3},{id:"uk-4",colo:data.uk4},{id:"uk-5",colo:data.uk5}]);cloudfront=getClosestServer([{id:"ct-3",colo:data.cloudfront,add:data.cloudfrontCf,dist:-100},{id:"ct-4",colo:data.cloudfront,add:data.cloudfrontGithub}]);download=getClosestServer([{id:"cf-1",meta:"#cloudflare",colo:data.cloudflare,dist:-600},{id:cloudfront.id,meta:"#cloudfront",colo:data.cloudfront,add:cloudfront.add}]);upload=getClosestServer([{id:uk.id,meta:"#cloudflareUK",colo:uk.colo},{id:"ct-1",meta:"#cloudfront",colo:data.cloudfront,add:cheetah.iata,dist:300}]);closestNetwork=getClosestServer([{id:"cf-1",colo:data.cloudflare,dist:-300},{id:"ct-1",colo:data.cloudfront,add:cloudfront.add},{id:"ft-2",colo:data.fastlyGithub}]);closestServer=getClosestServer([{id:"cf-2",colo:data.cloudflareTwo,dist:-300},{id:"ct-1",colo:data.cloudfront},{id:"ch-1",colo:data.cachefly},{id:"ft-1",colo:data.fastly},{id:"cf-1",colo:data.cloudflare,dist:300}]);names([{id:"cf-1",colo:data.cloudflare},{id:"cf-2",colo:data.cloudflareTwo},{id:"ch-1",colo:data.cachefly},{id:"ct-1",colo:data.cloudfront},{id:"ft-1",colo:data.fastly},{id:"ft-2",colo:data.fastlyGithub,colo2:data.fastly},{id:"aw-1",colo:data.aws},{id:"cf-3",colo:data.worker},{id:"ct-3",colo:data.cloudfront,colo2:data.cloudfrontCf},{id:"ct-4",colo:data.cloudfront,colo2:data.cloudfrontGithub}]);TestConfig.servers.aaa={preconnect:TestConfig.servers[download.id].preconnect,download:TestConfig.servers[download.id].download,upload:TestConfig.servers[upload.id].upload};TestConfig.servers["ct-1"].preconnect=TestConfig.servers[cloudfront.id].preconnect;TestConfig.servers["ct-1"].download=TestConfig.servers[cloudfront.id].download;TestConfig.servers["cf-1"].upload=TestConfig.servers[uk.id].upload;TestConfig.servers["cf-2"].upload=TestConfig.servers[uk.id].upload;TestConfig.servers["ch-1"].upload=TestConfig.servers[uk.id].upload;TestConfig.servers["ft-2"].upload=TestConfig.servers[uk.id].upload;TestConfig.selected=closestServer.id;if(!TestConfig.network.savePreferences)TestConfig.network.selected=[closestNetwork.id];if(!TestConfig.ping.savePreferences)TestConfig.ping.selected=closestServer.id;$("#cloudflare").textContent(data.cloudflare||"- -");$("#fastlyGithub").textContent(data.fastlyGithub||"- -");$("#cloudfront").textContent((cloudfront.colo||"- -")+(cloudfront.colo!=cloudfront.add?" - "+cloudfront.add:""));$("#cloudflareUK").textContent(uk.colo||"- -");$(download.meta).addClass("download");$(upload.meta).addClass("upload");$("#loadMeta").show();if(data.isp)$(".meta-isp").textContent(data.isp+" • "+data.countryCode);if(data.ip){$(".meta-ip").textContent(data.ip);if(-1!=data.ip.indexOf(":"))$(".meta-ip").hide()}TestConfig.closestDone=true;App.event("closestServer",data)}function addFetch(props){xfetch.items.push(props);xfetch.count++}addFetch({name:"fastlyGithub",url:"https://ispeedtest.xyz/pop.html"+("https://ispeedtest.xyz"==location.origin?"?v="+App.random():""),type:"HEAD",iframe:"https://ispeedtest.xyz"!=location.origin,success:function(fetch,xhr){return(xhr.getResponseHeader("X-Served-By")||"").slice(-3)}});addFetch({name:"fastly",url:"https://luisfreyle.global.ssl.fastly.net/fastly",success:function(fetch,xhr){return(xhr.getResponseHeader("X-Fastly")||"").slice(-3)}});addFetch({name:"worker",url:"https://speedtest.luisfreyle.workers.dev/worker",success:function(fetch,xhr){return(xhr.getResponseHeader("CF-RAY")||"").slice(-3)}});addFetch({name:"cloudflare",url:"https://speed.cloudflare.com/meta",dataType:"json",success:function(fetch){storage.meta_ip=fetch.clientIp;storage.meta_isp=fetch.asOrganization;storage.meta_lat=fetch.latitude;storage.meta_lon=fetch.longitude;storage.meta_countryCode=fetch.country;return fetch.colo}});addFetch({name:"cloudflareTwo",url:"https://speedtest-ap9.pages.dev/pop",success:function(fetch,xhr){return(xhr.getResponseHeader("CF-RAY")||"").slice(-3)}});addFetch({name:"cachefly",url:"https://luisfreyle.cachefly.net/cachefly",success:function(fetch,xhr){return(((xhr.getResponseHeader("X-CF1")||"").match(/([a-z]{3})([0-9]+)/)||"")[1]||"").toUpperCase()}});addFetch({name:"cloudfront",url:"https://d375c8n0f70a17.cloudfront.net/cloudfront",success:function(fetch,xhr){return(xhr.getResponseHeader("X-Amz-Cf-Pop")||"").slice(0,3)}});addFetch({name:"cloudfrontCf",url:"https://d375c8n0f70a17.cloudfront.net/__down",success:function(fetch,xhr){return(xhr.getResponseHeader("CF-RAY")||"").slice(-3)}});addFetch({name:"cloudfrontGithub",url:"https://d375c8n0f70a17.cloudfront.net/pop",success:function(fetch,xhr){return(xhr.getResponseHeader("X-Served-By")||"").slice(-3)}});addFetch({name:"aws",url:"https://blue-d.diagnostics.globalaccelerator.aws/api/stack",dataType:"json",success:function(fetch){return(fetch.stack||"").slice(0,3)}});addFetch({name:"uk1",url:"https://uk1.loadingtest.com/upload.php",type:"HEAD",success:function(fetch,xhr){return(xhr.getResponseHeader("CF-RAY")||"").slice(-3)}});addFetch({name:"uk2",url:"https://uk2.loadingtest.com/upload.php",type:"HEAD",success:function(fetch,xhr){return(xhr.getResponseHeader("CF-RAY")||"").slice(-3)}});addFetch({name:"uk3",url:"https://uk3.loadingtest.com/upload.php",type:"HEAD",success:function(fetch,xhr){return(xhr.getResponseHeader("CF-RAY")||"").slice(-3)}});addFetch({name:"uk4",url:"https://uk3.loadingtest.com/upload.php",type:"HEAD",success:function(fetch,xhr){return(xhr.getResponseHeader("CF-RAY")||"").slice(-3)}});addFetch({name:"uk5",url:"https://www.loadingtest.com/upload.php",type:"HEAD",success:function(fetch,xhr){return(xhr.getResponseHeader("CF-RAY")||"").slice(-3)}});fetchAll({storage:true,done:fetchDone})}function Main(){var refresh=createElement("button"),action=true;function refreshData(){if(action){action=false;refresh.addClass("active").find("b").textContent(App.lang.$23);storage.refresh="1";location.reload()}}this.events={switchStage:function(view){var url=location.href,match=url.match(/view=[a-z]*/),pages=session.pages.split(", "),index=parseInt(session.index);if(match)url=url.replace(match[0],"view="+view);else url+=(-1==url.indexOf("?")?"?":"&")+"view="+view;history.replaceState({index:history.length,url},document.title,url);App.event("updateStage")},updateStage:function(){$body[0].className=$body[0].className.replace(/view-\w+/,"view-"+App.pageView())},closestServer:function(){$body.addClass("ready")},storeData:function(){$body[storage.storeData?"removeClass":"addClass"]("store-data");storage.storeData=storage.storeData?"":"true";if(storage.storeData)registerWorker()}};this.onMount=function(){$body.addClass("view-"+App.pageView()+(storage.storeData?" store-data":""));mount()};this.render=function(){return createElement("div",{className:"global-container"},createElement(js_MainHeader),createElement("div",{className:"main-content"},createElement("div",{className:"container"},createElement(js_NetworkStage),createElement(js_TestStage),createElement(js_PingStage))),createElement("div",{className:"main-footer"},createElement("div",{className:"main-footer_container container flex align-center relative"},createElement("div",{className:"main-footer_item grow-1"},"iSpeedTest © "+(new Date).getFullYear(),createElement("span",{className:"bull-divider"},"•"),createElement("a",{href:"https://twitter.com/luismariofreyle",target:"_blank"},"Luis Mario Freyle")),createElement("div",{className:"main-footer_item flex align-center spacing-extra",id:"loadMeta",style:"display: none;"},createElement("div",{className:"load-meta",id:"cloudflare"}),createElement("div",{className:"load-meta",id:"fastlyGithub"}),createElement("div",{className:"load-meta",id:"cloudfront"}),createElement("div",{className:"load-meta",id:"cloudflareUK"})),createElement(refresh,{className:"refresh-data flex align-center spacing-small",id:"refreshData",onclick:refreshData},svgIcon("refresh"),createElement("b",{textContent:App.lang.$22})))),createElement("iframe",{id:"cfPage",src:"https://speedtest-ap9.pages.dev/frame?v="+version,title:"Frame",width:"100px",height:"100px",ariaHidden:true,style:"position: fixed; bottom: -200vh; opacity: 0; pointer-events: none;"}))}}$("#app-render").render(createElement(Main))})(window,document,Math.min,location,history)})();