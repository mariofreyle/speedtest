!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){var n,a,r,s,l,c=Math.floor(1e3*Math.random());function i(){return c+=1}function u(e){var t,n="";for(t in e)n+=t+"="+encodeURIComponent(e[t])+"&";return n.substring(0,n.length-1)}function d(e){e.name,e.type;var t,n,o=e.component,r=e.props,s=e.childs||null;if(o)return o.componentDidMount&&setTimeout(o.componentDidMount,1),o.events&&a.listen(e),d(s[0]);for(n in t=e.node,r)l.indexOf(n)>-1?t[n]=r[n]:t.setAttribute(n,r[n]);return s.length&&s.forEach((function(e){e&&t.appendChild(d(e))})),t}function f(e){return e&&e.constructor&&"Array"==e.constructor.name}function m(e){var t;(function e(t){var n,o,r=t.length;if(0!==r)for(o=0;o<r;o++)(n=t[o]).component&&n.component.componentWillUnmount&&n.component.componentWillUnmount(),n.component&&n.component.events&&a.remove(n),e(n.childs)})(e="Array"==(t=e).constructor.name?t:[t])}function p(e,t){if(ComponentsModel.remove(e),t.length){var n=t[0].node;n&&n.parentNode.removeChild(n)}}return l=["className","id","textContent","onclick","onkeyup","onkeydown","onchange","onsubmit","action","ariaLabel"],a=function(){function e(e,t){var o=n.events[e];o&&o.length;o&&o[t]&&delete o[t]}return{listen:function(e){var t,o,a=e.component.events,r=e.id;for(o in a)t=a[o],void 0===n.events[o]&&(n.events[o]={}),n.events[o][r]={componentId:r,callback:t}},remove:function(t){var n,o=t.component.events,a=t.id;for(n in o)e(n,a)}}}(),(s=function(e){return this.components=e,this}).prototype={searchComponentById:function(e){var t=null;return function n(o){var a,r,s=o.length;for(r=0;r<s;r++){if(t)return;if((a=o[r]).id==e)return void(t=a);n(a.childs)}}(this.components.childs),t},remove:function(e){var t=0;!function n(o){var a,r,s=o.length;for(r=0;r<s;r++){if(t)return;if((a=o[r]).id==e)return t=1,m(a),void o.splice(r,1);n(a.childs)}}(this.components.childs)},addChild:function(e,t){var n=0;!function o(a){var r,s,l=a.length;for(s=0;s<l;s++){if(n)return;if((r=a[s]).id==e)return n=1,void r.childs.push(t);o(r.childs)}}(this.components.childs)},deleteChilds:function(e){var t=0;!function n(o){var a,r,s=o.length;for(r=0;r<s;r++){if(t)return;if((a=o[r]).id==e)return t=1,m(a.childs),void(a.childs=[]);n(a.childs)}}(this.components.childs)},setChilds:function(e,t){var n=0;!function o(a){var r,s,l=a.length;for(s=0;s<l;s++){if(n)return;if((r=a[s]).id==e)return n=1,m(r.childs),void(r.childs=[t]);o(r.childs)}}(this.components.childs)},unMountComponents:m,dispatchMethod:function(e,t,n){var o;!function e(a){var r,s,l=a.length;for(s=0;s<l;s++){if((r=a[s]).component&&r.component.methods)return void((o=r.component.methods)[t]&&o[t](n));e(r.childs)}}([this.searchComponentById(e)])}},(r=function(e){return this.type=e.type,this.name=e.name,this.node=e.node,this.component=e.component,this.props=e.props,this.id=e.id,this.childs=e.childs,this}).prototype={each:function(e,t){var n=e.length;if(1==n)return t(e[0]);for(var o=0;o<n;o++)t(e[o])},remove:function(){ComponentsModel.remove(this.id),this.node.parentNode.removeChild(this.node)},addClass:function(e){if(!this.node.classList.contains(e))return this.node.classList.add(e)},removeClass:function(e){if(this.node.classList.contains(e))return this.node.classList.remove(e)},toggleClass:function(e){return this.node.classList.toggle(e)},hasClass:function(e){return this.node.classList.contains(e)},replaceClass:function(e,t){return this.removeClass(e),this.addClass(t)},value:function(e){return void 0===e?this.node.value:this.node.value=e},last:function(e){var t=this.nodes.childNodes,n=t.length+(void 0===e||e>=0?0:e);return n>0?new r(t[n-1]):null},textContent:function(e){this.node.textContent=e},setAttr:function(e,t){this.node.setAttribute(e,t)},setAttrNS:function(e,t,n){this.node.setAttributeNS(e,t,n)},className:function(e){this.node.className=e},style:function(e){var t=this.node;for(var n in e)t.style[n]=e[n]},first:function(e){return this.node.firstChild},find:function(e){var t=this.node.getElementsByClassName(e)[0];return new r({node:t})},parent:function(){return new r(this.node.parentNode)},append:function(e){ComponentsModel.addChild(this.id,e);var t=d(e);return this.node.appendChild(t)},render:function(e){var t=this.node,n=d(e);for(ComponentsModel.setChilds(this.id,e);t.firstChild;)t.removeChild(t.firstChild);return e&&t.appendChild(n)},method:function(e,t){return ComponentsModel.dispatchMethod(this.id,e,t)},scrollTop:function(e){return void 0===e?this.node.scrollTop:this.node.scrollTop=e},scrollHeight:function(){return this.node.scrollHeight},offsetHeight:function(){return this.node.offsetHeight},focus:function(){return this.node.focus()},disabled:function(e){void 0===e||e?this.addClass("disabled-ufQt"):this.removeClass("disabled-ufQt")}},n={fetch:function(e){var t=e.post&&"object"==o(e.post)&&"FormData"==e.post.constructor.name,n=e.post?t?e.post:u(e.post):null,a=e.post?"POST":"GET",r=e.url||"",s=e.xhr,l=e.contentType||null,c=e.headers?e.headers:{},i=new XMLHttpRequest,d=function(){console.log("Request Fail: "+r),e.fail&&e.fail()};for(var f in e.get&&(r+="?"+u(e.get)),i.open(a,r,!0),"function"==typeof s&&s(i),i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){var t=i.responseText,n=!1;if(i.getResponseHeader("Content-Type").search("application/json")>-1){try{t=JSON.parse(t),n=!0}catch(e){return void d()}n&&e.success&&e.success(t)}else e.success&&e.success(t)}else 404==i.status&&d()},i.ontimeout=d,i.onerror=d,!t&&!l&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l&&i.setRequestHeader("Content-type",l),c)i.setRequestHeader(f,c[f]);return i.send(n),i},createElement:function(e,n,o){var a,r,s,l="function"==typeof e,c=!("string"==typeof e),u=n||{},d=f(o),m=d?o:[],v=arguments.length,g=null,h=null,C=i();if(!d)for(r=2;r<v;r++)(s=arguments[r])&&m.push(s);return l?(a=e.name,(g=new e(u)).removeComponent=function(){p(C,m)},g.render&&m.push(g.render())):(a=c?e.name:e,h=c?e.node:t.createElement(e)),{type:l?"component":"node",name:a,node:h,component:g,props:u,id:e.id?e.id:C,childs:m}},createRef:function(e){return new r(n.createElement(e))},event:function(e,t){var o,a,r=n.events[e];if(r)for(o in r)(a=r[o])&&a.callback&&a.callback(t)},listenEvent:function(e,t){var o=i();return void 0===n.events[e]&&(n.events[e]=[]),n.events[e].push({id:o,callback:t}),{name:e,id:o}},removeEvent:function(){var e=arguments.length;function t(e){for(var t=n.events[e.name],o=t?t.length:0,a=0;a<o;a++)if(t[a].id==e.id)return void t.splice(a,1)}for(var o=0;o<e;o++)t(arguments[o])},component:{},removeComponent:function(e){return ComponentsModel.remove(e.id)},events:{},guid:i,_guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},rootRender:function(n){var o=t.getElementById("app");e.ComponentsModel=new s(n),o.appendChild(d(n))},each:function(e,t){if(f(e));else for(var n in e)t(e[n],n)},trim:function(e,t){var n=(t=t?t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):t)?new RegExp("^"+t+"|"+t+"+$","gm"):/^\s+|\s+$/gm;return e.replace(n,"")},getTime:function(){return(new Date).getTime()},random:function(e){return Math.floor(Math.random()*(1e3*e))},ucWords:function(e){if(e){var t,n=e.split(" "),o="";t=n.length;for(var a=0;a<t;a++)o=a!=t-1?o+r(n[a])+" ":o+r(n[a]);return o}function r(e){return e.substr(0,1).toUpperCase()+e.substr(1,e.length).toLowerCase()}}},e.App=n,n}(window,document);a.svgIcon=function(e,t,n){function o(e,o,a){for(var r=o||{},s=[],l=arguments.length,c=n.guid(),i=t.createElementNS("http://www.w3.org/2000/svg",e),u=2;u<l;u++)s.push(arguments[u]);return{type:"node",name:e,node:i,component:null,props:r,id:c,childs:s}}var a={close:function(){return o("svg",{viewBox:"0 0 213 213",class:"svgIcon closeIcon"},o("path",{d:"M131.804 106.491l75.936-75.936c6.99-6.99 6.99-18.323 0-25.312-6.99-6.99-18.322-6.99-25.312 0l-75.937 75.937L30.554 5.242c-6.99-6.99-18.322-6.99-25.312 0-6.989 6.99-6.989 18.323 0 25.312l75.937 75.936L5.242 182.427c-6.989 6.99-6.989 18.323 0 25.312 6.99 6.99 18.322 6.99 25.312 0l75.937-75.937 75.937 75.937c6.989 6.99 18.322 6.99 25.312 0 6.99-6.99 6.99-18.322 0-25.312L131.804 106.491z"}))},alert:function(){return o("svg",{viewBox:"0 0 512 512",class:"svgIcon alertIcon"},o("path",{d:"M256,0C115.2,0,0,115.2,0,256s115.2,256,256,256s256-115.2,256-256S396.8,0,256,0z M256,51.2 c28.16,0,48.64,23.04,46.08,51.2L281.6,307.2h-51.2l-20.48-204.8C207.36,74.24,227.84,51.2,256,51.2z M256,460.8 c-28.16,0-51.2-23.04-51.2-51.2c0-28.16,23.04-51.2,51.2-51.2s51.2,23.04,51.2,51.2C307.2,437.76,284.16,460.8,256,460.8z"}))},testLogo:function(){return o("svg",{viewBox:"0 0 512 512",class:"svgIcon testLogoIcon"},o("path",{d:"M357.423,209.039c-9.093-9.093-23.832-9.093-32.925,0l-66.389,66.386c-3.286-0.779-6.708-1.203-10.23-1.203 c-24.435,0-44.316,19.897-44.316,44.358c0,24.457,19.88,44.357,44.316,44.357c24.46,0,44.357-19.9,44.357-44.357 c0-3.523-0.424-6.945-1.203-10.231l66.389-66.386C366.515,232.871,366.515,218.13,357.423,209.039z"}),o("path",{d:"M437.083,120.099c-99.837-99.837-262.318-99.837-362.206,0.003c-86.213,86.257-99.573,222.315-31.769,323.513    c7.156,10.683,21.618,13.535,32.3,6.38c10.681-7.156,13.538-21.617,6.38-32.3c-19.051-28.437-30.268-60.238-33.925-92.598h21.887    c12.857,0,23.281-10.422,23.281-23.281c0-12.856-10.424-23.281-23.281-23.281H47.789C52.008,239.863,66.9,202.32,92,170.742    l15.842,15.842c4.546,4.547,10.504,6.821,16.461,6.821c5.958,0,11.917-2.274,16.461-6.821c9.092-9.09,9.092-23.832,0-32.924    l-15.909-15.91c32.054-25.745,69.977-40.674,108.842-44.8v21.986c0,12.859,10.424,23.281,23.281,23.281    c12.857,0,23.281-10.422,23.281-23.281V93.163c38.183,4.411,75.369,19.28,106.875,44.596l-15.902,15.902    c-9.09,9.093-9.09,23.832,0.003,32.927c4.544,4.544,10.504,6.818,16.459,6.818c5.96,0,11.917-2.274,16.463-6.821l15.826-15.826    c25.109,31.572,40.004,69.111,44.224,107.779h-21.961c-12.856,0-23.281,10.425-23.281,23.281    c0,12.859,10.425,23.281,23.281,23.281h21.889c-3.658,32.36-14.878,64.159-33.935,92.595c-7.16,10.68-4.304,25.142,6.374,32.3    c3.981,2.668,8.485,3.947,12.941,3.947c7.503,0,14.869-3.622,19.362-10.321C536.709,342.411,523.338,206.353,437.083,120.099z"}))},user:function(){return o("svg",{viewBox:"0 0 512 512",class:"svgIcon userIcon"},o("path",{d:"M256 0c88.366 0 160 71.634 160 160s-71.634 160-160 160S96 248.366 96 160 167.634 0 256 0zm183.283 333.821l-71.313-17.828c-74.923 53.89-165.738 41.864-223.94 0l-71.313 17.828C29.981 344.505 0 382.903 0 426.955V464c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48v-37.045c0-44.052-29.981-82.45-72.717-93.134z"}))},downlink:function(){return o("svg",{viewBox:"0 0 16 16",class:"svgIcon downlinkIcon"},o("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zM1.333 8a6.667 6.667 0 1113.334 0A6.667 6.667 0 011.333 8zm10-.667a.675.675 0 00-.473.194l-2.2 2.2v-5.06a.666.666 0 10-1.333 0v5.06L5.16 7.533a.668.668 0 00-1.12.3.67.67 0 00.173.647l3.334 3.333a.663.663 0 00.946.001l3.334-3.333a.667.667 0 00-.481-1.148h-.014z"}))},uplink:function(){return o("svg",{viewBox:"0 0 16 16",class:"svgIcon uplinkIcon"},o("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zm0 14.667a6.667 6.667 0 11.013 0H8zm.493-10.48a.663.663 0 00-.946-.001L4.213 7.52a.672.672 0 000 .947c.262.26.686.26.947 0l2.2-2.2v5.066a.666.666 0 101.333 0v-5.06l2.2 2.2a.668.668 0 00.935-.946l-3.335-3.34z"}))},gaugeNeedle:function(){return o("svg",{viewBox:"0 0 120 801",class:"svgIcon gaugeNeedleIcon"},o("defs",{},o("linearGradient",{id:"needleGradient",x1:"0",x2:"0",y1:"0",y2:"1"},o("stop",{class:"stop--1","stop-opacity":"0","stop-color":"transparent",offset:"40%"}),o("stop",{class:"stop--1","stop-opacity":"0.95","stop-color":"currentColor",offset:"100%"}))),o("path",{d:"M95 800.5l-34.25-.958H26.5L0 .5h120l-25 800z",fill:"url(#needleGradient)"}))},gaugeVector:function(){return o("svg",{viewBox:"0 0 100 100",class:"svgIcon gaugeVectorIcon"},o("circle",{class:"gaugeCircle gaugeCircleLoading gaugeCircleLoadingLeft strokeBackground",r:"46",cx:"50%",cy:"50%"}),o("circle",{class:"gaugeCircle gaugeCircleLoading gaugeCircleLoadingRight strokeBackground",r:"46",cx:"50%",cy:"50%"}),o("circle",{class:"gaugeCircle gaugeCircleBackground strokeBackground",r:"46",cx:"50%",cy:"50%"}),o("circle",{class:"gaugeCircle gaugeCircleCurrentSpeed strokePrimary",r:"46",cx:"50%",cy:"50%","stroke-dashoffset":"404"}))}};return function(e){return a[e]()}}(window,document,a);var r=a.components,s=a.createElement,l=a.svgIcon,c=a.createRef;t.default=a,t.components=r,t.createElement=s,t.svgIcon=l,t.createRef=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0);(o=a)&&o.__esModule;var r=window.test={started:!1,runType:!0,onprogress:!1,increments:[0,2,4,6,8,10,12,14,16],rateProgress:0,uploadFileDup:24,downloadRunTime:isLocal?5e3:16e3,uploadRunTime:isLocal?5e3:16e3,hearbeatTime:80,xhrConnections:3,xhrData:[],downloadURL:isLocal?URL_BASE+"/download/download.file":"https://fl-us-ping.vultr.com/vultr.com.100MB.bin",uploadURL:isLocal?URL_BASE+"/upload/upload.file":"https://fl-us-ping.vultr.com/ajax.php",gaugeCircleStrokeMin:404,gaugeCircleStrokeMax:194,gaugeNeedleRotateMin:49,gaugeNeedleRotateMax:310};r.increments=[0,1,5,10,20,30,50,75,100],r.gaugeCircleOffsetRef=r.gaugeCircleStrokeMax-r.gaugeCircleStrokeMin,r.gaugeNeedleRotateRef=r.gaugeNeedleRotateMax-r.gaugeNeedleRotateMin,r.tempFile=function(e){for(var t="11",n=0;n<e;n++)t+=t;return new Blob([t],{type:"plain/text"})}(r.uploadFileDup),r.runType={download:!1,upload:!1,current:null,set:function(e){r.runType.download="download"==e,r.runType.upload="upload"==e}},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0),r=(o=a)&&o.__esModule?o:{default:o};t.default=function(e){var t=this,n=(0,a.createRef)("div"),o=(0,a.createRef)("div");this.handleClick=function(){n.addClass("anim"),r.default.event("initializeTest"),setTimeout((function(){t.removeComponent(),r.default.event("runTest",{runType:"download"})}),2600)},this.componentDidMount=function(){e.tryAgainAnim&&setTimeout((function(){n.removeClass("tryAgainAnim")}),1200)},this.render=function(){return(0,a.createElement)(n,{className:"startWrapper"+(1==e.action?"":" tryAgain")+(e.tryAgainAnim?" tryAgainAnim":"")},(0,a.createElement)("button",{className:"startButton",ariaLabel:e.textContent,onclick:this.handleClick},(0,a.createElement)(o,{className:"buttonText",textContent:e.textContent}),(0,a.createElement)("div",{className:"buttonBackgroundPrimary"}),(0,a.createElement)("div",{className:"buttonBackgroundSecondary"}),(0,a.createElement)("div",{className:"buttonBorder"}),1==e.action?(0,a.createElement)("div",{className:"buttonAnimatedBorder"}):null))}}},function(e,t,n){"use strict";var o,a,r=c(n(0)),s=c(n(4)),l=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}window,document,o=r.default,a=o.createElement("div",{},o.createElement(s.default),o.createElement(l.default)),o.rootRender(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0);(o=a)&&o.__esModule;t.default=function(){this.render=function(){return(0,a.createElement)("header",{className:"mainHeader"},(0,a.createElement)("div",{className:"container"},(0,a.createElement)("div",{className:"logoWrapper"},(0,a.createElement)("span",{className:"logoIcon"},(0,a.svgIcon)("testLogo")),(0,a.createElement)("span",{className:"logoText",textContent:"SPEEDTEST"}))))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=l(o),r=l(n(1)),s=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=(0,o.createRef)("div"),t=(0,o.createRef)("span"),n=(0,o.createRef)("span");function l(t){r.default.started=void 0===t.started?r.default.started:t.started,r.default.runType.current=void 0===t.runType?r.default.runType.current:t.runType,r.default.onprogress=void 0===t.onprogress?r.default.onprogress:t.onprogress;var n="test--"+r.default.runType.current+(r.default.onprogress?" onprogress":"");e.className("testWrapper"+(void 0===t.clearClass?" testOpen ":"")+" "+(r.default.started?n:"test--finished"))}this.events={initializeTest:function(){e.addClass("testOpen")},renderStage:function(){e.render((0,o.createElement)(s.default))},runTest:function(e){l({started:!0,runType:e.runType})},testStatus:function(e){l(e)},closeTest:function(){l({started:!1,onprogress:!1})}},this.componentDidMount=function(){a.default.fetch({url:isLocal?"http://ip-api.com/json/":"https://ipapi.co/json/",success:function(e){t.textContent(a.default.ucWords(isLocal?e.isp:e.org)),n.textContent(isLocal?e.query:e.ip)}})},this.render=function(){return(0,o.createElement)("div",{className:"pageContent"},(0,o.createElement)("div",{className:"container"},(0,o.createElement)(e,{className:"testWrapper"},(0,o.createElement)(s.default)),(0,o.createElement)("div",{className:"log",textContent:"0.00"}),(0,o.createElement)("footer",{className:"footer"},(0,o.createElement)("div",{className:"hostIsp"},(0,o.createElement)("div",{className:"hostDetails"},(0,o.createElement)("div",{className:"icon"},(0,o.svgIcon)("user")),(0,o.createElement)("div",{className:"hostIp"},(0,o.createElement)("div",{className:"ispName"},(0,o.createElement)(t,{textContent:"- -"})),(0,o.createElement)("div",{className:"localIp textHolder"},(0,o.createElement)(n,{textContent:"- -"}))))))))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=c(o),r=c(n(2)),s=c(n(7)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e,t,n,c,i,u,d,f,m,p,v=this,g=(0,o.createRef)("div"),h=(0,o.createRef)("main"),C=(0,o.createRef)("div"),y=(0,o.createRef)("div"),E=(0,o.createRef)("div"),N=(0,o.createRef)("div"),T=(0,o.createRef)("div"),x=(0,o.createRef)("textarea");function b(){var e=0;return t.forEach((function(t){e+=t.loadedBytes})),e}function w(){clearInterval(e),t&&t.forEach((function(e){e.abort&&e.abort()}))}function M(){h.append((0,o.createElement)(r.default,{textContent:"DE NUEVO",action:2,tryAgainAnim:!0})),a.default.event("closeGauge")}function R(){for(var e=setTimeout((function(){}),0);e--;)clearTimeout(e);w(),setTimeout((function(){a.default.event("testStatus",{onprogress:!1}),a.default.event("clearGauge"),setTimeout((function(){l.default.runType.download?a.default.event("runTest",{runType:"upload"}):(a.default.event("closeTest"),M())}),500)}),1300)}function S(o){var r,s=l.default.runType.download?o:o.upload,d=0,f=t.length+1;o.loadedBytes=0,r=l.default.runType.download?function(e){o.loadedBytes=e.loaded}:function(e){o.loadedBytes=e.loaded-d},s.addEventListener("progress",(function(t){n||(n=a.default.getTime()),!i&&d&&function(){i=!0,a.default.event("testStatus",{onprogress:!0});var t,o,r,s,c,d=l.default.runType.download?E:T,f=(l.default.runType.download?y:N).find("progressBar"),m=l.default.runType.download?l.default.downloadRunTime:l.default.uploadRunTime,p=a.default.getTime(),v=0,g=[];e=setInterval((function(){var e,i;t=a.default.getTime(),o=(t-n)/1e3,r=b(),s=r/o,g.push(s),g.length>(o>1?15:3)&&g.splice(0,1),e=0,g.forEach((function(t){e+=t})),v=e/g.length,i=v,c=(i/=125e3).toFixed(i>100?1:2),d.textContent(c),f.style({width:(t-p)/m*100+"%"}),a.default.event("updateGauge",{speedRate:c}),u.log("["+(l.default.runType.download?"download":"upload")+"] instant: "+(s/125e3).toFixed(2)+"mbps, average: "+c+"mbps, loaded: "+(r/1e6>1.024?(r/1e6).toFixed(2)+"MB":(r/1e3).toFixed(2)+"KB")+", loadtime: "+o+"s")}),l.default.hearbeatTime),a.default.event("toggleGaugeDetails"),setTimeout((function(){w(),u.log("["+(l.default.runType.download?"download":"upload")+"]  transferred: "+(b()/1e6).toFixed(2)+"MB, finalSpeed: "+(b()/125e3/((a.default.getTime()-n)/1e3)).toFixed(2)+"mbps, loadtime: "+(a.default.getTime()-n)/1e3),setTimeout((function(){a.default.event("testStatus",{onprogress:!1}),a.default.event("clearGauge"),setTimeout((function(){l.default.runType.download?a.default.event("runTest",{runType:"upload"}):(a.default.event("closeTest"),M())}),500)}),1300)}),m+l.default.hearbeatTime)}(),c||(c=!0),d||(d=t.loaded,u.log("\n["+(l.default.runType.download?"download":"upload")+"] xhr "+f+" initial transfer: "+(t.loaded/1e3).toFixed(2)+"KB\n")),r(t)}))}p="",u={log:function(e){p+=(""!=p?"\n":"")+e,f=x.scrollHeight(),d=x.scrollTop(),m=x.offsetHeight(),x.value(p),d>f-m-20&&x.scrollTop(x.scrollHeight())},clear:function(){p="",x.value(p)}},this.events={initializeTest:function(){y.find("resultValue").textContent("- -"),y.find("progressBar").style({width:0}),N.find("resultValue").textContent("- -"),N.find("progressBar").style({width:0}),u.clear(),u.log("Starting test..."),setTimeout((function(){h.append((0,o.createElement)(s.default))}),450)},runTest:function(e){l.default.runType.set(e.runType);var o,r,s=l.default.runType.download?null:function(){var e=new FormData;return e.append("file-"+a.default.random(13),l.default.tempFile),e}();t=[],n=0,c=!1,i=!1;for(var u=0;u<(l.default.runType.download?l.default.xhrConnections:1);u++)r=a.default.random(6)+""+a.default.getTime(),o=a.default.fetch({xhr:S,url:l.default.runType.download?l.default.downloadURL:l.default.uploadURL,get:{v:r},post:s,fail:R,success:R}),t.push(o)}},this.closeStage=function(e){e.preventDefault(),w();for(var t=setTimeout((function(){}),0);t--;)clearTimeout(t);g.style({opacity:0,pointerEvents:"none"}),setTimeout((function(){a.default.event("testStatus",{started:!1,runType:!0,onprogress:!1,clearClass:!0}),a.default.event("renderStage")}),300)},this.render=function(){return(0,o.createElement)(g,{className:"testStage"},(0,o.createElement)("section",{className:"resultsArea"},(0,o.createElement)(C,{className:"resultsContainer"},(0,o.createElement)("button",{className:"stageClose",title:"Cerrar Prueba","aria-label":"Cerrar Prueba",onclick:v.closeStage},(0,o.svgIcon)("close")),(0,o.createElement)(y,{className:"resultItem resultDownload"},(0,o.createElement)("div",{className:"resultContainer"},(0,o.createElement)("div",{className:"resultHeader"},(0,o.createElement)("div",{className:"resultHeaderWrapper"},(0,o.createElement)("div",{className:"resultIcon"},(0,o.svgIcon)("downlink")),(0,o.createElement)("div",{className:"resultTitle"},(0,o.createElement)("b",{textContent:"DESCARGAR"})),(0,o.createElement)("div",{className:"resultUnit textHolder"},(0,o.createElement)("span",{textContent:"Mbps"})))),(0,o.createElement)("div",{className:"resultBody"},(0,o.createElement)(E,{className:"resultValue speedDownloadNumber"},(0,o.createElement)("span",{textContent:"- -"}))),(0,o.createElement)("div",{className:"progressBarWrapper"},(0,o.createElement)("div",{className:"progressBar"})))),(0,o.createElement)(N,{className:"resultItem resultUpload"},(0,o.createElement)("div",{className:"resultContainer"},(0,o.createElement)("div",{className:"resultHeader"},(0,o.createElement)("div",{className:"resultHeaderWrapper"},(0,o.createElement)("div",{className:"resultIcon"},(0,o.svgIcon)("uplink")),(0,o.createElement)("div",{className:"resultTitle"},(0,o.createElement)("b",{textContent:"SUBIR"})),(0,o.createElement)("div",{className:"resultUnit textHolder"},(0,o.createElement)("span",{textContent:"Mbps"})))),(0,o.createElement)("div",{className:"resultBody"},(0,o.createElement)(T,{className:"resultValue speedUploadNumber"},(0,o.createElement)("span",{textContent:"- -"}))),(0,o.createElement)("div",{className:"progressBarWrapper"},(0,o.createElement)("div",{className:"progressBar"})))))),(0,o.createElement)(h,{className:"stageMain"},(0,o.createElement)(r.default,{textContent:"COMENZAR",action:1})),(0,o.createElement)("div",{className:"testConsoleWrapper"},(0,o.createElement)(x,{readonly:"",spellcheck:"false"})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=(r(o),r(n(1)));r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e,t,n,r,s,l,c=this,i=a.default.increments,u=a.default.increments.length,d=a.default.increments[0],f=a.default.increments[a.default.increments.length-1],m=100/(a.default.increments.length-1),p=(0,o.createRef)("div"),v=(0,o.createRef)("div"),g=(0,o.createRef)("div"),h=(0,o.createRef)("div"),C=(0,o.createRef)("div"),y=(0,o.createRef)("div"),E=(0,o.createRef)("div"),N=(0,o.createRef)("div");function T(e){var t,n,o,a=0;if(e>=f)return 100;if(e<=0)return a;for(t=0;t<u;t++)if(e<(n=i[t]))return a=(e-(o=i[t-1]))/(n-o)*m+m*(t-1);return a}function x(o){e!=o&&(r="",i.forEach((function(e,t){o>=e&&o>d&&(r+=" incrementOn--"+t)})),t=T(o),s=a.default.gaugeCircleOffsetRef*t/100+a.default.gaugeCircleStrokeMin,l=a.default.gaugeNeedleRotateRef*t/100+a.default.gaugeNeedleRotateMin,g.textContent(o),h.className("incrementsContainer"+r),n.setAttr("stroke-dashoffset",s),C.style({transform:"rotateZ("+l+"deg)"}),e=o)}this.events={toggleGaugeDetails:function(){E.removeClass("unseen"),N.addClass("unseen")},updateGauge:function(e){x(e.speedRate)},clearGauge:function(){x("0.00")},closeGauge:function(){p.addClass("close"),setTimeout((function(){c.removeComponent()}),575)}},this.componentDidMount=function(){n=y.find("gaugeCircleCurrentSpeed")},this.render=function(){return(0,o.createElement)(p,{className:"gaugeContainer"},(0,o.createElement)("div",{className:"gaugeInner"},(0,o.createElement)(h,{className:"incrementsContainer"},i.map((function(e,t){return(0,o.createElement)("div",{className:"increment increment--"+t},(0,o.createElement)("b",{textContent:e}))}))),(0,o.createElement)(C,{className:"gaugeNeedle"},(0,o.svgIcon)("gaugeNeedle")),(0,o.createElement)(v,{className:"gaugeState"},(0,o.createElement)(E,{className:"speedDetailsContainer state unseen"},(0,o.createElement)(g,{className:"speedDetailsNumber"},(0,o.createElement)("span",{textContent:"0.00"})),(0,o.createElement)("div",{className:""},(0,o.createElement)("span",{className:"speedDetailsIcon"},(0,o.svgIcon)("uplink")),(0,o.createElement)("span",{className:"speedDetailsUnit textHolder",textContent:"Mbps"}))),(0,o.createElement)(N,{className:"connectingServer state textHolder"},(0,o.createElement)("b",{textContent:"Conectando..."})))),(0,o.createElement)(y,{className:"gaugeAnim gaugeIcon"},(0,o.svgIcon)("gaugeVector")))}}}]);